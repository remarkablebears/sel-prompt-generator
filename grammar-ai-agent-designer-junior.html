<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar AIæ•™å­¸ä»£ç†äººè¨­è¨ˆå™¨ï¼ˆåœ‹ä¸­ç‰ˆï¼‰| Grammar AI Teaching Agent Designer for Junior High</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Traditional Chinese', sans-serif;
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: #000;
            margin-bottom: 30px;
            padding: 40px 20px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        header p {
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .info-banner {
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 183, 77, 0.1) 100%);
            border-left: 4px solid #ff9800;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            color: #000;
        }

        .info-banner strong {
            display: block;
            margin-bottom: 12px;
            font-size: 1.05em;
        }

        .info-banner p {
            line-height: 1.8;
            margin-bottom: 12px;
            font-size: 0.95em;
        }

        .info-banner .divider {
            height: 1px;
            background: rgba(255, 152, 0, 0.2);
            margin: 15px 0;
        }

        /* æ–‡æ³•é¡å‹å¿«é€Ÿé¸æ“‡å€ */
        .grammar-selector {
            background: linear-gradient(135deg, rgba(255, 183, 77, 0.15) 0%, rgba(255, 204, 118, 0.15) 100%);
            border: 2px solid #ffb74d;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .grammar-selector h3 {
            color: #e65100;
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 700;
        }

        .grammar-selector p {
            color: #555;
            margin-bottom: 15px;
            font-size: 0.95em;
        }

        .grammar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .grammar-btn {
            padding: 12px 16px;
            border: 2px solid #ffb74d;
            background: white;
            color: #e65100;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9em;
            text-align: center;
        }

        .grammar-btn:hover {
            background: #fff3e0;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.2);
        }

        .grammar-btn.active {
            background: #ffb74d;
            color: white;
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 1.4em;
            color: #000;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid #ffb74d;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #000;
            font-weight: 600;
            font-size: 0.95em;
        }

        label .en {
            font-size: 0.85em;
            color: #666;
            font-weight: normal;
            display: block;
            margin-top: 4px;
        }

        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #ffb74d;
            box-shadow: 0 0 0 3px rgba(255, 183, 77, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .step-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .step-item {
            margin-bottom: 12px;
            padding: 10px;
            background: white;
            border-left: 4px solid #ffb74d;
            border-radius: 4px;
        }

        .step-item strong {
            color: #ffb74d;
        }

        .add-step {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .add-step input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #ffb74d;
            color: white;
        }

        .btn-primary:hover {
            background: #e65100;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #000;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .preview-box {
            background: #f8f9fa;
            border: 2px solid #ffb74d;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .preview-title {
            font-weight: 600;
            color: #ffb74d;
            margin-bottom: 12px;
        }

        .preview-content {
            background: white;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .button-group button {
            flex: 1;
        }

        .footer {
            margin-top: 50px;
            text-align: center;
            color: #000;
            padding: 30px 20px;
        }

        .footer-text {
            font-size: 0.9em;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .footer-divider {
            height: 1px;
            background: #ddd;
            margin: 20px 0;
        }

        .footer-credit {
            font-size: 0.85em;
            color: #666;
        }

        .footer-credit p {
            margin-bottom: 8px;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            .grammar-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }

        .success-toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ffb74d;
            color: white;
            padding: 15px 25px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: none;
            animation: slideIn 0.3s ease-in-out;
        }

        .success-toast.show {
            display: block;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ¨™é¡Œ -->
        <header>
            <h1>ğŸ“š Grammar AIæ•™å­¸ä»£ç†äººè¨­è¨ˆå™¨</h1>
            <p>åœ‹ä¸­ç‰ˆæœ¬ | Junior High School Edition</p>
        </header>

        <!-- æ–‡æ³•é¡å‹å¿«é€Ÿé¸æ“‡ -->
        <div class="grammar-selector">
            <h3>ğŸ¯ é¸æ“‡æ–‡æ³•æ•™å­¸é¡å‹</h3>
            <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•å¿«é€Ÿè¼‰å…¥è©²æ–‡æ³•ä¸»é¡Œçš„é è¨­å…§å®¹</p>
            <div class="grammar-grid">
                <button class="grammar-btn" onclick="loadGrammarPreset('tense')">
                    <div><strong>æ™‚æ…‹</strong></div>
                    <div style="font-size: 0.8em; margin-top: 2px; color: inherit;">Tense</div>
                </button>
                <button class="grammar-btn" onclick="loadGrammarPreset('comparison')">
                    <div><strong>æ¯”è¼ƒç´š</strong></div>
                    <div style="font-size: 0.8em; margin-top: 2px; color: inherit;">Comparison</div>
                </button>
                <button class="grammar-btn" onclick="loadGrammarPreset('conditional')">
                    <div><strong>æ¢ä»¶å¥</strong></div>
                    <div style="font-size: 0.8em; margin-top: 2px; color: inherit;">Conditional</div>
                </button>
                <button class="grammar-btn" onclick="loadGrammarPreset('passive')">
                    <div><strong>è¢«å‹•èªæ…‹</strong></div>
                    <div style="font-size: 0.8em; margin-top: 2px; color: inherit;">Passive</div>
                </button>
                <button class="grammar-btn" onclick="loadGrammarPreset('phrase')">
                    <div><strong>ç‰‡èª</strong></div>
                    <div style="font-size: 0.8em; margin-top: 2px; color: inherit;">Phrase</div>
                </button>
                <button class="grammar-btn" onclick="loadGrammarPreset('clause')">
                    <div><strong>å­å¥</strong></div>
                    <div style="font-size: 0.8em; margin-top: 2px; color: inherit;">Clause</div>
                </button>
            </div>
        </div>

        <!-- ä½¿ç”¨èªªæ˜ -->
        <div class="info-banner">
            <strong>ğŸ’¡ ä½¿ç”¨æ­¥é©Ÿ | Usage Steps</strong>
            <p><strong>ç¬¬1æ­¥ï¼š</strong>é¸æ“‡æ–‡æ³•æ•™å­¸é¡å‹å¿«é€Ÿè¼‰å…¥é è¨­å…§å®¹</p>
            <p><strong>ç¬¬2æ­¥ï¼š</strong>å¡«å¯«åŸºæœ¬è³‡è¨Šï¼Œè‡ªè¨‚æ•™å­¸è¦å‰‡ã€å·¥å…·å’Œå­¸ç¿’æµç¨‹</p>
            <p><strong>ç¬¬3æ­¥ï¼š</strong>é»æ“Šã€Œç”ŸæˆPromptã€é è¦½AIæ•™å­¸ä»£ç†äººçš„æŒ‡ä»¤</p>
            <p><strong>ç¬¬4æ­¥ï¼š</strong>è¤‡è£½æˆ–ä¸‹è¼‰Promptåˆ°æ‚¨é¸æ“‡çš„AIå·¥å…·ï¼ˆå¦‚Claudeã€ChatGPTç­‰ï¼‰</p>
        </div>

        <!-- ä¸»è¦è¡¨å–® -->
        <div class="main-grid">
            <!-- å·¦å´ï¼šåŸºæœ¬è¨­å®š -->
            <div>
                <!-- åŸºæœ¬è¨­å®š -->
                <div class="section">
                    <div class="section-title">âš™ï¸ åŸºæœ¬è¨­å®š | Basic Settings</div>

                    <!-- é¸å®šçš„æ–‡æ³•é¡å‹ -->
                    <div class="form-group">
                        <label>
                            é¸å®šçš„æ–‡æ³•ä¸»é¡Œ <span class="en">Selected Grammar Topic</span>
                        </label>
                        <input type="text" id="selectedGrammar" readonly style="background-color: #f5f5f5; cursor: not-allowed;">
                    </div>

                    <!-- ç›®æ¨™ -->
                    <div class="form-group">
                        <label>
                            å­¸ç¿’ç›®æ¨™ <span class="en">Learning Objective</span>
                        </label>
                        <textarea id="objective" placeholder="ä¾‹ï¼šå¹«åŠ©å­¸ç”ŸæŒæ¡æ™‚æ…‹ç”¨æ³•ï¼Œèƒ½æ­£ç¢ºä½¿ç”¨ç°¡å–®éå»å¼å’Œç¾åœ¨å®Œæˆå¼"></textarea>
                    </div>

                    <!-- AIè§’è‰²åç¨± -->
                    <div class="form-group">
                        <label>
                            AIè§’è‰²åç¨± <span class="en">AI Agent Name</span>
                        </label>
                        <input type="text" id="agentName" placeholder="ä¾‹ï¼šæ–‡æ³•æ•™ç·´ã€è‹±æ–‡ç³¾æ­£å®˜">
                    </div>

                    <!-- è§’è‰²æè¿° -->
                    <div class="form-group">
                        <label>
                            è§’è‰²æè¿° <span class="en">Agent Description</span>
                        </label>
                        <textarea id="agentDesc" placeholder="ä¾‹ï¼šä¸€ä½è€å¿ƒçš„æ–‡æ³•æ•™ç·´ï¼Œæ“…é•·ç”¨å¯¦ç”¨ä¾‹å¥å’Œäº’å‹•ç·´ç¿’å¹«åŠ©å­¸ç”Ÿç†è§£æ–‡æ³•æ¦‚å¿µã€‚"></textarea>
                    </div>

                    <!-- CEFRç­‰ç´š -->
                    <div class="form-group">
                        <label>
                            ç›®æ¨™ CEFR ç­‰ç´š <span class="en">Target CEFR Level</span>
                        </label>
                        <select id="cefrLevel">
                            <option value="">è«‹é¸æ“‡...</option>
                            <option value="A1">A1 - åˆç´š (Beginner)</option>
                            <option value="A2">A2 - åˆç´š (Elementary)</option>
                            <option value="B1">B1 - ä¸­ç´š (Intermediate)</option>
                            <option value="B2">B2 - ä¸­é«˜ç´š (Upper Intermediate)</option>
                        </select>
                    </div>

                    <!-- æ•™å­¸è³‡æº -->
                    <div class="form-group">
                        <label>
                            æ•™å­¸è³‡æº <span class="en">Teaching Resources</span>
                        </label>
                        <input type="text" id="resources" placeholder="ä¾‹ï¼šä¾‹å¥ã€å°è©±ã€ç·´ç¿’é¡Œã€å¯¦éš›æƒ…å¢ƒ">
                    </div>

                    <!-- ä¸Šèª²æ™‚é–“ -->
                    <div class="form-group">
                        <label>
                            ä¸Šèª²æ™‚é–“ <span class="en">Duration</span>
                        </label>
                        <input type="text" id="duration" placeholder="ä¾‹ï¼š20-25åˆ†é˜">
                    </div>
                </div>

                <!-- è¦å‰‡ -->
                <div class="section">
                    <div class="section-title">ğŸ“‹ è¦å‰‡ | Rules</div>

                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule1" checked>
                            ç”¨ç°¡å–®æ˜“æ‡‚çš„è§£é‡‹å’Œä¾‹å¥ï¼Œé¿å…å°ˆæ¥­è¡“èªéå¤š
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule2" checked>
                            ç•¶å­¸ç”Ÿå‡ºéŒ¯æ™‚ï¼Œé¼“å‹µæ€§åœ°æŒ‡æ­£ï¼Œä¸¦è§£é‡‹ç‚ºä»€éº¼
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule3" checked>
                            ç”¨é’å°‘å¹´æ„Ÿèˆˆè¶£çš„ä¸»é¡Œå’Œå¯¦éš›æƒ…å¢ƒä¾†èˆ‰ä¾‹
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule4" checked>
                            å°æ¯”åŸæ–‡æ³•å’Œæ­£ç¢ºç”¨æ³•ï¼Œçªé¡¯å·®ç•°
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule5">
                            é¼“å‹µå­¸ç”Ÿåœ¨æ—¥å¸¸è‹±æ–‡ä¸­ä¸»å‹•æ‡‰ç”¨å­¸åˆ°çš„æ–‡æ³•
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule6">
                            æä¾›å……è¶³çš„ç·´ç¿’æ©Ÿæœƒå’Œå¯¦æ™‚åé¥‹
                        </label>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šå­¸ç¿’æµç¨‹ -->
            <div>
                <!-- å·¥å…· -->
                <div class="section">
                    <div class="section-title">ğŸ› ï¸ å·¥å…· | Tools</div>

                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool1" checked>
                            ä¾‹å¥èˆ‡å°æ¯”åˆ†æ
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool2" checked>
                            å¡«ç©ºç·´ç¿’èˆ‡é€ å¥
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool3">
                            çœŸå¯¦å°è©±æƒ…æ™¯
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool4">
                            æ–‡æ³•è¦å‰‡ç¸½çµè¡¨
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool5">
                            å¸¸è¦‹éŒ¯èª¤é›†éŒ¦
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool6">
                            è‡ªæˆ‘æª¢æ ¸æ¸…å–®
                        </label>
                    </div>
                </div>

                <!-- å­¸ç¿’æµç¨‹èˆ‡æ­¥é©Ÿ -->
                <div class="section">
                    <div class="section-title">ğŸ“š å­¸ç¿’æµç¨‹ | Learning Flow</div>

                    <div class="add-step">
                        <input type="text" id="stepInput" placeholder="è¼¸å…¥æ­¥é©Ÿå…§å®¹...">
                        <button class="btn-primary" onclick="addStep()">æ–°å¢</button>
                    </div>

                    <div id="stepList" class="step-list">
                        <div class="step-item">
                            <strong>Step 1:</strong> ä»‹ç´¹æ–‡æ³•æ¦‚å¿µåŠå…¶ä½¿ç”¨æ™‚æ©Ÿ
                        </div>
                        <div class="step-item">
                            <strong>Step 2:</strong> æä¾›å¤šå€‹ä¾‹å¥ï¼Œå°æ¯”æ­£ç¢ºå’ŒéŒ¯èª¤ç”¨æ³•
                        </div>
                        <div class="step-item">
                            <strong>Step 3:</strong> å¼•å°å­¸ç”Ÿåˆ†æè¦å‰‡å’Œä¾‹å¤–
                        </div>
                        <div class="step-item">
                            <strong>Step 4:</strong> é€²è¡Œäº’å‹•ç·´ç¿’ï¼ˆå¡«ç©ºã€é¸æ“‡ã€é€ å¥ï¼‰
                        </div>
                        <div class="step-item">
                            <strong>Step 5:</strong> æª¢è¦–ç­”æ¡ˆã€è§£é‡‹å¸¸è¦‹éŒ¯èª¤ã€é¼“å‹µæ‡‰ç”¨
                        </div>
                    </div>

                    <button class="btn-secondary" onclick="clearSteps()">æ¸…ç©ºæ­¥é©Ÿ</button>
                </div>

                <!-- é è¦½ -->
                <div class="section">
                    <div class="section-title">ğŸ‘ï¸ é è¦½ | Preview</div>

                    <button class="btn-primary" onclick="generatePrompt()" style="width: 100%; margin-bottom: 15px;">
                        ç”Ÿæˆ Prompt
                    </button>

                    <div class="preview-box">
                        <div class="preview-title">ç”Ÿæˆçš„Promptï¼š</div>
                        <div class="preview-content" id="preview">é»æ“Šã€Œç”ŸæˆPromptã€ä»¥é è¦½...</div>
                    </div>

                    <div class="button-group">
                        <button class="btn-primary" onclick="copyPrompt()">è¤‡è£½</button>
                        <button class="btn-secondary" onclick="downloadPrompt()">ä¸‹è¼‰</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-text">
                <strong>Beta ç‰ˆæœ¬ | Beta Version</strong><br>
                Grammar åœ‹ä¸­ç‰ˆæœ¬é–‹ç™¼æ™‚é–“ï¼š2025å¹´11æœˆ (èˆ‡ Claude.ai å…±æ§‹) | First co-developed with Claude.ai, November 2025<br>
                æœ€å¾Œæ›´æ–°ï¼š2025å¹´11æœˆ14æ—¥ | Last updated: November 14, 2025
            </div>

            <div class="footer-divider"></div>

            <div class="footer-credit">
                <p>åœ‹ç«‹é›²æ—ç§‘æŠ€å¤§å­¸æ‡‰ç”¨å¤–èªç³»è‘‰æƒ èç‰¹è˜æ•™æˆåœ˜éšŠè£½ä½œ Â© 2025</p>
                <p>Designed by Distinguished Professor Hui-Chin Yeh and Ensemble, Department of Applied Linguistics, National Yunlin University of Science and Technology, Douliu, Taiwan Â© 2025</p>
            </div>

            <div class="footer-divider"></div>

            <div style="font-size: 0.8em; line-height: 1.8; color: #000; text-align: left; background: #f5f5f5; padding: 15px; border-radius: 6px; margin-top: 20px;">
                <strong style="display: block; margin-bottom: 10px;">éš±ç§æ”¿ç­–èˆ‡è²¬ä»»èªªæ˜ | Privacy Policy & Responsibility Statement</strong>
                
                <p style="margin-bottom: 10px;"><strong>ä¸­æ–‡ï¼š</strong>æˆ‘å€‘ä¸æœƒåœ¨æœ¬å·¥å…·ä¸Šè’é›†ä»»ä½•è³‡æ–™ç”¨æ–¼ä»»ä½•ç”¨é€”ã€‚</p>
                <p style="margin-bottom: 10px;">å¦‚æœæ‚¨æƒ³åˆ†äº«æ‚¨è¨­è¨ˆçš„æ•™æ¡ˆPromptä¾›å…¶ä»–æ•™å¸«ä½¿ç”¨æˆ–ä¾›è‘‰æƒ èæ•™æˆåœ˜éšŠé€²è¡Œç ”ç©¶åˆ†æï¼Œè«‹æ´½è©¢æ‚¨åƒåŠ çš„è©²å ´æ¬¡ç ”ç¿’ï¼Œæˆ‘å€‘æœƒæä¾›è©²å ´æ¬¡å°ˆå±¬çš„Googleé›²ç«¯åˆ†äº«é€£çµèˆ‡è©³ç´°èªªæ˜ã€‚</p>
                <p style="margin-bottom: 15px;">æœ¬å·¥å…·çš„è¨­è¨ˆå…§å®¹ä¹‹è‘—ä½œæ¬Šæ­¸å±¬æ–¼è¨­è¨ˆè€…ã€‚æœ¬å¹³å°åƒ…æä¾›æƒ³æ³•ç†Ÿç·´ç·´ç¿’ã€‚è¨­è¨ˆè€…è«‹ç¢ºä¿å°Šé‡è‘—ä½œæ¬Šï¼Œä¸å»ºè­°å•†æ¥­ç”¨é€”ã€‚æˆ‘å€‘æ­¡è¿æ•™å¸«ä¹‹é–“çš„çŸ¥è­˜åˆ†äº«èˆ‡äº¤æµã€‚</p>

                <p style="margin-bottom: 10px;"><strong>English:</strong> We do not collect any data on this tool for any purpose.</p>
                <p style="margin-bottom: 10px;">If you'd like to share your designed prompts with other teachers or for Prof. Hui-Chin Yeh's team's research analysis, please contact your workshop session. We will provide you with that session's dedicated Google Drive sharing link and detailed instructions.</p>
                <p style="margin-bottom: 10px;">The copyright of designs created with this tool belongs to the designer. This platform is intended for practicing ideas. Please respect copyright regulations and we do not recommend commercial use. We welcome knowledge sharing and exchange among teachers.</p>

                <p style="margin-top: 15px; font-weight: 600;">Googleé›²ç«¯é€£çµ | Google Drive Link: ç”±å„å ´æ¬¡ç ”ç¿’æä¾›ï¼Œæˆ–å¯„ä¿¡åˆ°åœ˜éšŠä¿¡ç®±ç”±è‘‰æ•™æˆåŠåœ˜éšŠå…±åŒç®¡ç† | Provided by each workshop session, or email our team inbox</p>
            </div>
        </div>
    </div>

    <!-- æˆåŠŸé€šçŸ¥ -->
    <div class="success-toast" id="successToast"></div>

    <script>
        let steps = [];
        let currentGrammar = null;

        // æ–‡æ³•ä¸»é¡Œé è¨­å…§å®¹
        const grammarPresets = {
            'tense': {
                name: 'æ™‚æ…‹ | Tense',
                objective: 'å¹«åŠ©å­¸ç”ŸæŒæ¡è‹±æ–‡æ™‚æ…‹ç³»çµ±ï¼Œèƒ½æ­£ç¢ºä½¿ç”¨ç°¡å–®éå»å¼ã€ç¾åœ¨å®Œæˆå¼ã€ç°¡å–®ç¾åœ¨å¼ç­‰åŸºæœ¬æ™‚æ…‹ï¼Œç†è§£æ™‚æ…‹èƒŒå¾Œçš„é‚è¼¯',
                agentName: 'æ™‚æ…‹æ•™ç·´',
                agentDesc: 'ä¸€ä½æ“…é•·ç”¨æ™‚é–“è»¸å’Œç”Ÿæ´»ä¾‹å­è§£é‡‹æ™‚æ…‹çš„æ•™ç·´ï¼Œèƒ½å¹«åŠ©å­¸ç”Ÿç†è§£æ™‚æ…‹çš„æœ¬è³ªè€Œä¸åªæ˜¯è¨˜æ†¶è¦å‰‡ã€‚',
                cefrLevel: 'A1-B1',
                resources: 'æ™‚é–“è»¸åœ–è¡¨ã€æ—¥å¸¸æƒ…æ™¯å°è©±ã€æ™‚æ…‹å°æ¯”ä¾‹å¥',
                duration: '25-30åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6']
            },
            'comparison': {
                name: 'æ¯”è¼ƒç´šèˆ‡æœ€é«˜ç´š | Comparison',
                objective: 'å¹«åŠ©å­¸ç”ŸæŒæ¡å½¢å®¹è©å’Œå‰¯è©çš„æ¯”è¼ƒç´šå’Œæœ€é«˜ç´šç”¨æ³•ï¼Œèƒ½åœ¨æ—¥å¸¸æºé€šä¸­æ­£ç¢ºè¡¨é”æ¯”è¼ƒå’Œè©•åƒ¹',
                agentName: 'æ¯”è¼ƒå°ˆå®¶',
                agentDesc: 'ä¸€ä½èƒ½ç”¨å…·é«”ä¾‹å­å’Œå°æ¯”ç·´ç¿’å¹«åŠ©å­¸ç”ŸæŒæ¡æ¯”è¼ƒè¡¨é”çš„æ•™ç·´ã€‚',
                cefrLevel: 'A1-A2',
                resources: 'æ¯”è¼ƒåœ–è¡¨ã€å°æ¯”ä¾‹å¥ã€ç·´ç¿’é¡Œ',
                duration: '20-25åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6']
            },
            'conditional': {
                name: 'æ¢ä»¶å¥ | Conditional',
                objective: 'å¹«åŠ©å­¸ç”Ÿç†è§£è‹±æ–‡æ¢ä»¶å¥ç³»çµ±ï¼ˆ0-3å¼ï¼‰ï¼Œèƒ½åœ¨è™›æ“¬å’ŒçœŸå¯¦æƒ…æ³ä¸­æ°ç•¶ä½¿ç”¨æ¢ä»¶å¥è¡¨é”',
                agentName: 'æ¢ä»¶å¥å°å¸«',
                agentDesc: 'ä¸€ä½èƒ½æ¸…æ¥šè§£é‡‹æ¢ä»¶å¥é‚è¼¯å’Œæ™‚æ…‹æ­é…çš„å°å¸«ï¼Œç”¨å‡è¨­æƒ…æ™¯å¹«åŠ©å­¸ç”Ÿç†è§£ã€‚',
                cefrLevel: 'B1',
                resources: 'æ¢ä»¶å¥é¡å‹è¡¨ã€å‡è¨­æƒ…æ™¯ã€ç·´ç¿’å°è©±',
                duration: '30-35åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6']
            },
            'passive': {
                name: 'è¢«å‹•èªæ…‹ | Passive Voice',
                objective: 'å¹«åŠ©å­¸ç”Ÿç†è§£è¢«å‹•èªæ…‹çš„çµæ§‹å’Œç”¨æ³•ï¼Œèƒ½åœ¨é©ç•¶æ™‚æ©Ÿä½¿ç”¨è¢«å‹•èªæ…‹ï¼Œç†è§£ä¸»å‹•å’Œè¢«å‹•çš„å€åˆ¥',
                agentName: 'èªæ…‹è½‰æ›å®˜',
                agentDesc: 'ä¸€ä½å°ˆé•·æ–¼ä¸»è¢«å‹•è½‰æ›çš„æ•™ç·´ï¼Œèƒ½ç”¨æ˜ç¢ºçš„è½‰æ›æ­¥é©Ÿå’Œä¾‹å¥å¹«åŠ©å­¸ç”ŸæŒæ¡ã€‚',
                cefrLevel: 'A2-B1',
                resources: 'ä¸»è¢«å‹•å°æ¯”è¡¨ã€è½‰æ›ç·´ç¿’ã€æƒ…æ™¯æ‡‰ç”¨',
                duration: '25-30åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6']
            },
            'phrase': {
                name: 'ç‰‡èª | Phrase',
                objective: 'å¹«åŠ©å­¸ç”Ÿèªè­˜å’Œé‹ç”¨å¸¸ç”¨è‹±æ–‡ç‰‡èªï¼Œç†è§£ç‰‡èªçš„æ„æ€å’Œä½¿ç”¨æ™‚æ©Ÿï¼Œé€æ¼¸ç´¯ç©ç‰‡èªè©å½™',
                agentName: 'ç‰‡èªæ”¶é›†å®¶',
                agentDesc: 'ä¸€ä½æ“…é•·ç”¨æ•…äº‹å’Œæƒ…æ™¯æ•™æˆç‰‡èªçš„æ•™ç·´ï¼Œå¹«åŠ©å­¸ç”Ÿç†è§£ç‰‡èªçš„å«ç¾©å’Œå¯¦éš›æ‡‰ç”¨ã€‚',
                cefrLevel: 'A2-B2',
                resources: 'ç‰‡èªåˆ†é¡è¡¨ã€æƒ…æ™¯å°è©±ã€ç‰‡èªè¾¨æ',
                duration: '25-30åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule5', 'rule6']
            },
            'clause': {
                name: 'å­å¥ | Clause',
                objective: 'å¹«åŠ©å­¸ç”Ÿç†è§£åè©å­å¥ã€å½¢å®¹è©å­å¥ã€å‰¯è©å­å¥çš„åŠŸèƒ½å’Œç”¨æ³•ï¼Œèƒ½æ­£ç¢ºä½¿ç”¨ç›¸å°ä»£åè©å’Œé€£çµè©',
                agentName: 'å¥å‹çµæ§‹å°ˆå®¶',
                agentDesc: 'ä¸€ä½èƒ½ç”¨å¥å‹åœ–è§£å’Œè¤‡å¥åˆ†æå¹«åŠ©å­¸ç”Ÿç†è§£è¤‡é›œå¥æ§‹çš„å°ˆå®¶ã€‚',
                cefrLevel: 'B1-B2',
                resources: 'å­å¥é¡å‹è¡¨ã€è¤‡å¥åˆ†æã€å¥å‹æ¨¡æ¿',
                duration: '30-35åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6']
            }
        };

        function loadGrammarPreset(grammarType) {
            const preset = grammarPresets[grammarType];
            if (!preset) return;

            document.getElementById('selectedGrammar').value = preset.name;
            document.getElementById('objective').value = preset.objective;
            document.getElementById('agentName').value = preset.agentName;
            document.getElementById('agentDesc').value = preset.agentDesc;
            document.getElementById('cefrLevel').value = preset.cefrLevel;
            document.getElementById('resources').value = preset.resources;
            document.getElementById('duration').value = preset.duration;

            document.querySelectorAll('.checkbox-item input[id^="rule"]').forEach(checkbox => {
                checkbox.checked = preset.rules.includes(checkbox.id);
            });

            document.querySelectorAll('.checkbox-item input[id^="tool"]').forEach(checkbox => {
                checkbox.checked = true;
            });

            steps = [
                'ä»‹ç´¹æ–‡æ³•æ¦‚å¿µåŠå…¶ä½¿ç”¨æ™‚æ©Ÿ',
                'æä¾›å¤šå€‹ä¾‹å¥ï¼Œå°æ¯”æ­£ç¢ºå’ŒéŒ¯èª¤ç”¨æ³•',
                'å¼•å°å­¸ç”Ÿåˆ†æè¦å‰‡å’Œä¾‹å¤–',
                'é€²è¡Œäº’å‹•ç·´ç¿’ï¼ˆå¡«ç©ºã€é¸æ“‡ã€é€ å¥ï¼‰',
                'æª¢è¦–ç­”æ¡ˆã€è§£é‡‹å¸¸è¦‹éŒ¯èª¤ã€é¼“å‹µæ‡‰ç”¨'
            ];
            renderSteps();

            document.querySelectorAll('.grammar-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            currentGrammar = grammarType;

            showToast(`âœ… å·²è¼‰å…¥ ${preset.name} é è¨­å…§å®¹ï¼`);
        }

        function addStep() {
            const input = document.getElementById('stepInput');
            if (input.value.trim()) {
                steps.push(input.value);
                renderSteps();
                input.value = '';
            }
        }

        function renderSteps() {
            const list = document.getElementById('stepList');
            list.innerHTML = '';
            steps.forEach((step, index) => {
                const div = document.createElement('div');
                div.className = 'step-item';
                div.innerHTML = `
                    <strong>Step ${index + 1}:</strong> ${step}
                    <button class="btn-secondary" style="width: 80px; padding: 5px; font-size: 0.8em; margin-top: 8px;" onclick="removeStep(${index})">åˆªé™¤</button>
                `;
                list.appendChild(div);
            });
        }

        function removeStep(index) {
            steps.splice(index, 1);
            renderSteps();
        }

        function clearSteps() {
            steps = [];
            renderSteps();
        }

        function generatePrompt() {
            const selectedGrammar = document.getElementById('selectedGrammar').value;
            const objective = document.getElementById('objective').value;
            const agentName = document.getElementById('agentName').value || 'æ•™å­¸åŠ©æ‰‹';
            const agentDesc = document.getElementById('agentDesc').value;
            const cefrLevel = document.getElementById('cefrLevel').value;
            const resources = document.getElementById('resources').value;
            const duration = document.getElementById('duration').value;

            let rulesText = 'è¦å‰‡ï¼š\n';
            if (document.getElementById('rule1').checked) rulesText += '1. ç”¨ç°¡å–®æ˜“æ‡‚çš„è§£é‡‹å’Œä¾‹å¥ï¼Œé¿å…å°ˆæ¥­è¡“èªéå¤š\n';
            if (document.getElementById('rule2').checked) rulesText += '2. ç•¶å­¸ç”Ÿå‡ºéŒ¯æ™‚ï¼Œé¼“å‹µæ€§åœ°æŒ‡æ­£ï¼Œä¸¦è§£é‡‹ç‚ºä»€éº¼\n';
            if (document.getElementById('rule3').checked) rulesText += '3. ç”¨é’å°‘å¹´æ„Ÿèˆˆè¶£çš„ä¸»é¡Œå’Œå¯¦éš›æƒ…å¢ƒä¾†èˆ‰ä¾‹\n';
            if (document.getElementById('rule4').checked) rulesText += '4. å°æ¯”åŸæ–‡æ³•å’Œæ­£ç¢ºç”¨æ³•ï¼Œçªé¡¯å·®ç•°\n';
            if (document.getElementById('rule5').checked) rulesText += '5. é¼“å‹µå­¸ç”Ÿåœ¨æ—¥å¸¸è‹±æ–‡ä¸­ä¸»å‹•æ‡‰ç”¨å­¸åˆ°çš„æ–‡æ³•\n';
            if (document.getElementById('rule6').checked) rulesText += '6. æä¾›å……è¶³çš„ç·´ç¿’æ©Ÿæœƒå’Œå¯¦æ™‚åé¥‹\n';

            let toolsText = 'æ•™å­¸å·¥å…·èˆ‡æ–¹æ³•ï¼š\n';
            if (document.getElementById('tool1').checked) toolsText += '- ä¾‹å¥èˆ‡å°æ¯”åˆ†æ\n';
            if (document.getElementById('tool2').checked) toolsText += '- å¡«ç©ºç·´ç¿’èˆ‡é€ å¥\n';
            if (document.getElementById('tool3').checked) toolsText += '- çœŸå¯¦å°è©±æƒ…æ™¯\n';
            if (document.getElementById('tool4').checked) toolsText += '- æ–‡æ³•è¦å‰‡ç¸½çµè¡¨\n';
            if (document.getElementById('tool5').checked) toolsText += '- å¸¸è¦‹éŒ¯èª¤é›†éŒ¦\n';
            if (document.getElementById('tool6').checked) toolsText += '- è‡ªæˆ‘æª¢æ ¸æ¸…å–®\n';

            let stepsText = 'å­¸ç¿’æµç¨‹èˆ‡æ­¥é©Ÿï¼š\n';
            steps.forEach((step, index) => {
                stepsText += `Step ${index + 1}: ${step}\n`;
            });

            const prompt = `
ã€Grammar AIæ•™å­¸ä»£ç†äººè¨­è¨ˆ - åœ‹ä¸­ç‰ˆæœ¬ã€‘

ã€ç›®æ¨™èˆ‡è§’è‰²ã€‘
æ–‡æ³•ä¸»é¡Œï¼š${selectedGrammar}
å­¸ç¿’ç›®æ¨™ï¼š${objective}
AIè§’è‰²ï¼š${agentName}
${agentDesc ? `è§’è‰²æè¿°ï¼š${agentDesc}` : ''}
ç›®æ¨™CEFRç­‰ç´šï¼š${cefrLevel}

é€™æ˜¯ä¸€å€‹å¹«åŠ©åœ‹ä¸­ç”Ÿå­¸ç¿’è‹±æ–‡æ–‡æ³•çš„AIæ•™å­¸ä»£ç†äººï¼Œæ—¨åœ¨é€šéæ¸…æ™°çš„è§£é‡‹ã€è±å¯Œçš„ä¾‹å¥å’Œäº’å‹•ç·´ç¿’å¹«åŠ©å­¸ç”ŸæŒæ¡æ–‡æ³•æ¦‚å¿µã€‚è«‹å®Œå…¨ä½¿ç”¨ç¹é«”ä¸­æ–‡é€²è¡Œäº’å‹•ã€‚

ã€æ•™å­¸èƒŒæ™¯ã€‘
å­¸ç¿’å°è±¡ï¼šåœ‹ä¸­ç”Ÿï¼ˆå¹´é½¡13-15æ­²ï¼‰
æ•™å­¸è³‡æºï¼š${resources}
é è¨ˆæ™‚é–“ï¼š${duration}

ã€${rulesText}ã€‘

ã€${toolsText}ã€‘

ã€${stepsText}ã€‘

ã€æ•™å­¸æ–¹å¼ã€‘
- æ¯æ¬¡é€²è¡Œä¸€å€‹æ­¥é©Ÿï¼Œç­‰å¾…å­¸ç”Ÿå›æ‡‰å¾Œå†é€²è¡Œä¸‹ä¸€æ­¥
- å…ˆæä¾›ç°¡æ½”æ¸…æ¥šçš„è¦å‰‡è§£é‡‹å’Œå¤šå€‹ä¾‹å¥
- é€²è¡Œå°æ¯”åˆ†æï¼Œå¹«åŠ©å­¸ç”Ÿç†è§£æ­£ç¢ºå’ŒéŒ¯èª¤ç”¨æ³•çš„å€åˆ¥
- æ ¹æ“šå­¸ç”Ÿçš„å›ç­”çµ¦äºˆå³æ™‚åé¥‹å’Œé¼“å‹µ
- é€éç·´ç¿’é¡Œéå›ºå­¸ç¿’ï¼Œä¸¦åœ¨å…¨ç¨‹æä¾›è§£é‡‹å’Œæ”¯æŒ
- æœ€å¾Œé¼“å‹µå­¸ç”Ÿåœ¨å¯¦éš›è‹±æ–‡ä½¿ç”¨ä¸­æ‡‰ç”¨æ‰€å­¸æ–‡æ³•

è«‹æ ¹æ“šä¸Šè¿°è¨­å®šé€²è¡Œæ•™å­¸ã€‚
            `;

            document.getElementById('preview').textContent = prompt.trim();
            showToast('âœ… Promptå·²ç”Ÿæˆï¼');
        }

        function copyPrompt() {
            const preview = document.getElementById('preview');
            navigator.clipboard.writeText(preview.textContent).then(() => {
                showToast('âœ… å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            });
        }

        function downloadPrompt() {
            const preview = document.getElementById('preview');
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(preview.textContent));
            element.setAttribute('download', 'Grammar_AIæ•™å­¸_åœ‹ä¸­ç‰ˆ.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            showToast('âœ… å·²ä¸‹è¼‰Promptï¼');
        }

        function showToast(message) {
            const toast = document.getElementById('successToast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        window.addEventListener('load', () => {
            renderSteps();
        });
    </script>
</body>
</html>
