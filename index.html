<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEL/SDG èª²ç¨‹Promptç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Traditional Chinese', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .form-section, .preview-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab-btn {
            padding: 12px 20px;
            background: none;
            border: none;
            font-size: 1em;
            cursor: pointer;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-btn:hover {
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
            font-size: 0.95em;
        }

        label .required {
            color: #e74c3c;
        }

        input[type="text"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .radio-group, .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .radio-item, .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="radio"],
        input[type="checkbox"] {
            cursor: pointer;
            width: 18px;
            height: 18px;
        }

        .hint {
            font-size: 0.85em;
            color: #999;
            margin-top: 8px;
            font-style: italic;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        button.generate, button.download, button.copy {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        button.generate {
            background: #667eea;
            color: white;
        }

        button.generate:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button.copy {
            background: #f39c12;
            color: white;
        }

        button.copy:hover {
            background: #e67e22;
        }

        button.download {
            background: #27ae60;
            color: white;
        }

        button.download:hover {
            background: #229954;
        }

        .preview-content {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 20px;
            min-height: 400px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            color: #333;
            max-height: 600px;
            overflow-y: auto;
        }

        .preview-empty {
            color: #999;
            text-align: center;
            padding: 40px 20px;
        }

        .copy-feedback {
            display: none;
            padding: 12px;
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-radius: 6px;
            margin-bottom: 20px;
            text-align: center;
        }

        .copy-feedback.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8em;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab-btn {
                padding: 10px 15px;
                font-size: 0.9em;
            }
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #1565c0;
        }

        .divider {
            height: 1px;
            background: #ddd;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ SEL/SDG èª²ç¨‹Promptç”Ÿæˆå™¨</h1>
            <p>ç‚ºä½ çš„åœ‹ä¸­è‹±èªèª²ç¨‹å¿«é€Ÿç”ŸæˆAIæ•™å­¸Prompt</p>
        </header>

        <div class="main-content">
            <!-- å·¦å´ï¼šè¡¨å–® -->
            <div class="form-section">
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('teacher')">ğŸ‘¨â€ğŸ« æ•™å¸«ç”¨</button>
                    <button class="tab-btn" onclick="switchTab('student')">ğŸ‘¨â€ğŸ“ å­¸ç”Ÿç”¨</button>
                </div>

                <!-- æ•™å¸«è¡¨å–® -->
                <div id="teacher" class="tab-content active">
                    <h2 class="section-title">æ•™å­¸æ´»å‹•è¨­è¨ˆ</h2>

                    <div class="info-box">
                        ğŸ’¡ å¡«å¯«ä»¥ä¸‹è³‡è¨Šï¼Œç³»çµ±å°‡è‡ªå‹•ç”Ÿæˆé©åˆä½ èª²ç¨‹çš„Prompt
                    </div>

                    <div class="form-group">
                        <label>é¸æ“‡æƒ…å¢ƒ <span class="required">*</span></label>
                        <select id="teacher-scenario" onchange="updateTeacherPreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="planning">èª²ç¨‹è¦åŠƒ</option>
                            <option value="activity">æ•™å­¸æ´»å‹•è¨­è¨ˆ</option>
                            <option value="sensitive">æ•æ„Ÿè­°é¡Œè™•ç†</option>
                            <option value="assessment">è©•é‡è¨­è¨ˆ</option>
                        </select>
                        <div class="hint">é¸æ“‡ä½ ç›®å‰éœ€è¦çš„å”åŠ©é¡å‹</div>
                    </div>

                    <div class="form-group">
                        <label>å­¸æ ¡/ç­ç´šåç¨± <span class="required">*</span></label>
                        <input type="text" id="teacher-school" placeholder="ä¾‹ï¼šå°ä¸­å¸‚æ±å±±é«˜ä¸­åœ‹ä¸­éƒ¨" onchange="updateTeacherPreview()">
                    </div>

                    <div class="form-group">
                        <label>æ•™å­¸å¹´ç´š <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="grade" value="7" onchange="updateTeacherPreview()"> åœ‹ä¸­ä¸ƒå¹´ç´š
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="grade" value="8" onchange="updateTeacherPreview()"> åœ‹ä¸­å…«å¹´ç´š
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="grade" value="9" onchange="updateTeacherPreview()"> åœ‹ä¸­ä¹å¹´ç´š
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>å–®å…ƒä¸»é¡Œ/æ•™ç§‘æ›¸å…§å®¹ <span class="required">*</span></label>
                        <textarea id="teacher-unit" placeholder="ä¾‹ï¼šLesson 5 æ ¡åœ’å¿—å·¥æœå‹™" onchange="updateTeacherPreview()"></textarea>
                        <div class="hint">ç°¡è¿°å–®å…ƒåç¨±å’Œèª²æ–‡é‡é»</div>
                    </div>

                    <div class="form-group">
                        <label>å„ªå…ˆSELèƒ½åŠ› <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="è‡ªæˆ‘è¦ºå¯Ÿ" onchange="updateTeacherPreview()"> è‡ªæˆ‘è¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="è‡ªæˆ‘ç®¡ç†" onchange="updateTeacherPreview()"> è‡ªæˆ‘ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="ç¤¾æœƒè¦ºå¯Ÿ" onchange="updateTeacherPreview()"> ç¤¾æœƒè¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="é—œä¿‚ç®¡ç†" onchange="updateTeacherPreview()"> é—œä¿‚ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="è² è²¬ä»»æ±ºç­–" onchange="updateTeacherPreview()"> è² è²¬ä»»æ±ºç­–
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>å„ªå…ˆSDGç›®æ¨™ <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="sdg" value="SDG 4å„ªè³ªæ•™è‚²" onchange="updateTeacherPreview()"> SDG 4 å„ªè³ªæ•™è‚²
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sdg" value="SDG 5æ€§åˆ¥å¹³ç­‰" onchange="updateTeacherPreview()"> SDG 5 æ€§åˆ¥å¹³ç­‰
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sdg" value="SDG 10æ¸›å°‘ä¸å¹³ç­‰" onchange="updateTeacherPreview()"> SDG 10 æ¸›å°‘ä¸å¹³ç­‰
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sdg" value="SDG 13æ°£å€™è¡Œå‹•" onchange="updateTeacherPreview()"> SDG 13 æ°£å€™è¡Œå‹•
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sdg" value="SDG 16å’Œå¹³æ­£ç¾©" onchange="updateTeacherPreview()"> SDG 16 å’Œå¹³æ­£ç¾©
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>æ•™å­¸æ™‚é•·</label>
                        <select id="teacher-time" onchange="updateTeacherPreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="45åˆ†é˜">45åˆ†é˜å–®å ‚èª²</option>
                            <option value="90åˆ†é˜">90åˆ†é˜é›™å ‚èª²</option>
                            <option value="ä¸€é€±">ä¸€é€±ï¼ˆå¤šå ‚èª²ï¼‰</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ç‰¹æ®Šè€ƒé‡æˆ–å›°é›£</label>
                        <textarea id="teacher-notes" placeholder="ä¾‹ï¼šç­ä¸Šæœ‰ç‰¹æ•™ç”Ÿã€ç­ç´šè¼ƒæ´»æ½‘éœ€è¦é«˜äº’å‹•è¨­è¨ˆç­‰" onchange="updateTeacherPreview()"></textarea>
                        <div class="hint">é¸å¡«ã€‚å¹«åŠ©AIæ›´äº†è§£ä½ çš„æ•™å­¸ç’°å¢ƒ</div>
                    </div>

                    <div class="button-group">
                        <button class="generate" onclick="generateTeacherPrompt()">ç”ŸæˆPrompt</button>
                    </div>
                </div>

                <!-- å­¸ç”Ÿè¡¨å–® -->
                <div id="student" class="tab-content">
                    <h2 class="section-title">å£èªªç·´ç¿’è¨­å®š</h2>

                    <div class="info-box">
                        ğŸ’¡ è¨­å®šå­¸ç”Ÿçš„ç·´ç¿’æƒ…å¢ƒå’Œé›£åº¦ç­‰ç´š
                    </div>

                    <div class="form-group">
                        <label>ç·´ç¿’é¡å‹ <span class="required">*</span></label>
                        <select id="student-type" onchange="updateStudentPreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="intro">è©±é¡Œä»‹ç´¹èˆ‡é–‹å•Ÿ</option>
                            <option value="scenario">æƒ…å¢ƒå¼å°è©±</option>
                            <option value="opinion">æ„è¦‹è¡¨é”èˆ‡ç†ç”±</option>
                            <option value="listening">ç†è§£æª¢æŸ¥</option>
                            <option value="challenge">é€²éšæŒ‘æˆ°</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>å­¸ç”Ÿå¹´ç´š <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="s-grade" value="7" onchange="updateStudentPreview()"> åœ‹ä¸­ä¸ƒå¹´ç´š (CEFR A1)
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="s-grade" value="8" onchange="updateStudentPreview()"> åœ‹ä¸­å…«å¹´ç´š (CEFR A1+)
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="s-grade" value="9" onchange="updateStudentPreview()"> åœ‹ä¸­ä¹å¹´ç´š (CEFR A2)
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>SEL/SDGè©±é¡Œ <span class="required">*</span></label>
                        <input type="text" id="student-topic" placeholder="ä¾‹ï¼šæ€§åˆ¥å¹³ç­‰ã€ç’°ä¿è¡Œå‹•ã€æ ¡åœ’å‹å–„" onchange="updateStudentPreview()">
                        <div class="hint">è¼¸å…¥ä½ æƒ³ç·´ç¿’çš„ä¸»é¡Œ</div>
                    </div>

                    <div class="form-group">
                        <label>èªè¨€ç›®æ¨™ <span class="required">*</span></label>
                        <input type="text" id="student-language" placeholder="ä¾‹ï¼šè¡¨é”å€‹äººæ„è¦‹ã€æå»ºè­°ã€è©¢å•ç†ç”±" onchange="updateStudentPreview()">
                        <div class="hint">æƒ³ç·´ç¿’ä»€éº¼èªè¨€èƒ½åŠ›ï¼Ÿ</div>
                    </div>

                    <div class="form-group">
                        <label>ç·´ç¿’æ™‚é•·</label>
                        <select id="student-duration" onchange="updateStudentPreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="3-5åˆ†é˜">3-5åˆ†é˜</option>
                            <option value="5-10åˆ†é˜">5-10åˆ†é˜</option>
                            <option value="10-15åˆ†é˜">10-15åˆ†é˜</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>å°æ‡‰SELèƒ½åŠ›</label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="è‡ªæˆ‘è¦ºå¯Ÿ" onchange="updateStudentPreview()"> è‡ªæˆ‘è¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="è‡ªæˆ‘ç®¡ç†" onchange="updateStudentPreview()"> è‡ªæˆ‘ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="ç¤¾æœƒè¦ºå¯Ÿ" onchange="updateStudentPreview()"> ç¤¾æœƒè¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="é—œä¿‚ç®¡ç†" onchange="updateStudentPreview()"> é—œä¿‚ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="è² è²¬ä»»æ±ºç­–" onchange="updateStudentPreview()"> è² è²¬ä»»æ±ºç­–
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>å­¸ç”Ÿå§“åï¼ˆé¸å¡«ï¼‰</label>
                        <input type="text" id="student-name" placeholder="ä½¿ç”¨å€‹äººåŒ–ç¨±å‘¼æœƒæ›´è¦ªåˆ‡" onchange="updateStudentPreview()">
                    </div>

                    <div class="button-group">
                        <button class="generate" onclick="generateStudentPrompt()">ç”ŸæˆPrompt</button>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šé è¦½èˆ‡è¼¸å‡º -->
            <div class="preview-section">
                <h2 class="section-title">ğŸ“‹ Prompté è¦½</h2>
                
                <div class="copy-feedback" id="copyFeedback">âœ… å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼</div>

                <div class="preview-content" id="preview">
                    <div class="preview-empty">å¡«å¯«å·¦å´è¡¨å–®å¾Œï¼Œç”Ÿæˆçš„Promptæœƒåœ¨æ­¤é¡¯ç¤º</div>
                </div>

                <div class="button-group" style="margin-top: 20px;">
                    <button class="copy" onclick="copyToClipboard()">ğŸ“‹ è¤‡è£½åˆ°å‰ªè²¼æ¿</button>
                    <button class="download" onclick="downloadPrompt()">ğŸ“¥ ä¸‹è¼‰ç‚º.txt</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPrompt = '';

        function switchTab(tab) {
            // éš±è—æ‰€æœ‰å…§å®¹
            document.getElementById('teacher').classList.remove('active');
            document.getElementById('student').classList.remove('active');
            
            // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„active
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            // é¡¯ç¤ºé¸å®šçš„å…§å®¹å’ŒæŒ‰éˆ•
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
            
            // æ¸…ç©ºé è¦½
            document.getElementById('preview').innerHTML = '<div class="preview-empty">å¡«å¯«å·¦å´è¡¨å–®å¾Œï¼Œç”Ÿæˆçš„Promptæœƒåœ¨æ­¤é¡¯ç¤º</div>';
            currentPrompt = '';
        }

        function updateTeacherPreview() {
            // å¯¦æ™‚é è¦½çš„ç°¡å–®é‚è¼¯
        }

        function updateStudentPreview() {
            // å¯¦æ™‚é è¦½çš„ç°¡å–®é‚è¼¯
        }

        function getSelectedValues(name) {
            const checked = document.querySelectorAll(`input[name="${name}"]:checked`);
            return Array.from(checked).map(el => el.value);
        }

        function generateTeacherPrompt() {
            const scenario = document.getElementById('teacher-scenario').value;
            const school = document.getElementById('teacher-school').value;
            const grade = document.querySelector('input[name="grade"]:checked')?.value;
            const unit = document.getElementById('teacher-unit').value;
            const sel = getSelectedValues('sel');
            const sdg = getSelectedValues('sdg');
            const time = document.getElementById('teacher-time').value;
            const notes = document.getElementById('teacher-notes').value;

            if (!scenario || !school || !grade || !unit || sel.length === 0 || sdg.length === 0) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½ï¼ˆæ¨™æœ‰*çš„é …ç›®ï¼‰');
                return;
            }

            let template = '';

            if (scenario === 'planning') {
                template = `ã€æ•™å¸«èª²ç¨‹è¦åŠƒè¨è«–ã€‘

æˆ‘æ˜¯ ${school} çš„è‹±èªæ•™å¸«ï¼Œæ•™æˆåœ‹ä¸­ ${grade} å¹´ç´šã€‚

èª²ç¨‹èƒŒæ™¯è³‡è¨Šï¼š
- æ•™ç§‘æ›¸å–®å…ƒï¼š${unit}
- é è¨ˆæ•™å­¸é€±æ•¸ï¼š${time || 'å¾…å®š'}
- ç­ç´šç‰¹æ®Šè€ƒé‡ï¼š${notes || 'ç„¡'}

æˆ‘æƒ³åœ¨é€™å€‹å–®å…ƒèåˆSELå’ŒSDGï¼š
- å„ªå…ˆSELèƒ½åŠ›ï¼š${sel.join('ã€')}
- å„ªå…ˆSDGç›®æ¨™ï¼š${sdg.join('ã€')}

è«‹å¹«æˆ‘ï¼š
1. åˆ†ææ­¤æ•™æä¸­è˜Šå«çš„SEL/SDGåˆ‡å…¥é»
2. è¨­è¨ˆ3-5å€‹æ•™å­¸æ´»å‹•ï¼ŒèåˆåŸæœ‰èª²ç¨‹å…§å®¹
3. å»ºè­°è©•é‡æ–¹å¼ï¼ˆå½¢æˆæ€§è©•é‡ç‚ºä¸»ï¼‰
4. æé†’å¯èƒ½çš„æ–‡åŒ–æ•æ„Ÿæ€§è­°é¡Œ`;
            } 
            else if (scenario === 'activity') {
                template = `ã€SEL/SDGæ•™å­¸æ´»å‹•è¨­è¨ˆã€‘

å–®å…ƒä¸»é¡Œï¼š${unit}
å¹´ç´šï¼šåœ‹ä¸­${grade}å¹´ç´š
èª²å ‚æ™‚é•·ï¼š${time || '45åˆ†é˜'}
æ¶µè“‹SDGç›®æ¨™ï¼š${sdg.join('ã€')}
å°æ‡‰SELèƒ½åŠ›ï¼š${sel.join('ã€')}
${notes ? `ç‰¹æ®Šè€ƒé‡ï¼š${notes}` : ''}

æˆ‘éœ€è¦ä¸€å€‹æ•™å­¸æ´»å‹•ï¼Œè¦æ±‚ï¼š
- èƒ½æ•´åˆè‹±èªå­¸ç¿’ï¼ˆå­—å½™/å¥å‹/è½èªªè®€å¯«ï¼‰
- èƒ½è§¸ç™¼å­¸ç”Ÿçš„SELåæ€
- å…·æœ‰å°ç£åœ¨åœ°/åœ‹éš›è¦–é‡çš„æƒ…å¢ƒ
- é©åˆåœ‹ä¸­${grade}å¹´ç´šçš„èªçŸ¥ç™¼å±•å’Œèˆˆè¶£

è«‹æä¾›ï¼š
1. æ´»å‹•å®Œæ•´æµç¨‹ï¼ˆå«æ™‚é–“é…ç½®ï¼‰
2. æ‰€éœ€æ•™æ/è³‡æºæ¸…å–®
3. è‹±èªå­¸ç¿’ç›®æ¨™èˆ‡SELç›®æ¨™
4. èª²å ‚å°è©±/æå•æ¡†æ¶
5. å¯èƒ½çš„è®Šé€šæ–¹æ¡ˆï¼ˆå¦‚ç·šä¸Šæ•™å­¸ç‰ˆæœ¬ï¼‰`;
            }
            else if (scenario === 'sensitive') {
                template = `ã€æ–‡åŒ–æ•æ„Ÿæ€§èˆ‡æ•™å­¸å®‰å…¨å¯©è¦–ã€‘

æ•™æä¸»é¡Œï¼š${unit}
å¹´ç´šï¼šåœ‹ä¸­${grade}å¹´ç´š
æ¶µè“‹è­°é¡Œï¼š${sdg.join('ã€')}
${notes ? `è£œå……èªªæ˜ï¼š${notes}` : ''}

æˆ‘æƒ³ç¢ºä¿æ•™å­¸å®‰å…¨ï¼Œè«‹å”åŠ©æˆ‘ï¼š
1. è­˜åˆ¥æ­¤è­°é¡Œä¸­çš„æ–‡åŒ–æ•æ„Ÿæ€§ï¼ˆç‰¹åˆ¥æ˜¯å°ç£æ–‡åŒ–ã€æ€§åˆ¥ã€éšç´šç­‰ç¶­åº¦ï¼‰
2. æä¾›ä¸­ç«‹ã€å°Šé‡å¤šå…ƒçš„æ•™å­¸æ¡†æ¶
3. è¨­è¨ˆå®‰å…¨çš„èª²å ‚å°è©±å¼•å°ï¼ˆåŒ…æ‹¬æ‡‰é¿å…çš„è¡¨è¿°ï¼‰
4. å»ºè­°ç®¡ç†ä¸åŒæ„è¦‹æ™‚çš„ç­–ç•¥
5. æé†’å¯èƒ½éœ€è¦äº‹å…ˆçŸ¥æœƒå®¶é•·æˆ–è¡Œæ”¿å–®ä½çš„éƒ¨åˆ†`;
            }
            else if (scenario === 'assessment') {
                template = `ã€SEL/SDGå°å‘çš„è©•é‡è¨­è¨ˆã€‘

å–®å…ƒåç¨±ï¼š${unit}
å¹´ç´šï¼šåœ‹ä¸­${grade}å¹´ç´š
æ ¸å¿ƒSELèƒ½åŠ›ï¼š${sel.join('ã€')}
æ¶µè“‹SDGç›®æ¨™ï¼š${sdg.join('ã€')}

è«‹å”åŠ©è¨­è¨ˆè©•é‡å·¥å…·ï¼š

1. å½¢æˆæ€§è©•é‡ï¼ˆèª²ç¨‹é€²è¡Œä¸­ï¼‰
   - è§€å¯Ÿé‡é»ï¼šå­¸ç”Ÿå°è­°é¡Œçš„ç†è§£å’Œæ…‹åº¦æ”¹è®Š
   - å¯ç”¨å·¥å…·ï¼šæª¢æ ¸è¡¨ã€è‡ªè©•è¡¨ã€åŒå„•è©•ä¼°

2. ç¸½çµæ€§è©•é‡ï¼ˆå–®å…ƒçµæŸï¼‰
   - ä»»å‹™å½¢å¼ï¼šå£èªªç™¼è¡¨ã€å¯«ä½œã€å°çµ„å°ˆæ¡ˆ
   - è©•åˆ†æ¨™æº–ï¼šèåˆè‹±èªèƒ½åŠ›å’ŒSELå±•ç¾

3. è‡ªæˆ‘è©•ä¼°å·¥å…·
   - é©åˆåœ‹ä¸­${grade}å¹´ç´šçš„è‡ªè©•æ¡†æ¶
   - ä¸­æ–‡æˆ–é›™èªå‘ˆç¾

4. è³‡æ–™è’é›†å»ºè­°
   - å¦‚ä½•è¨˜éŒ„å­¸ç”Ÿé€²å±•ï¼ˆæª”æ¡ˆè©•é‡ç­‰ï¼‰`;
            }

            currentPrompt = template;
            displayPrompt(template);
        }

        function generateStudentPrompt() {
            const type = document.getElementById('student-type').value;
            const grade = document.querySelector('input[name="s-grade"]:checked')?.value;
            const topic = document.getElementById('student-topic').value;
            const language = document.getElementById('student-language').value;
            const duration = document.getElementById('student-duration').value;
            const sel = getSelectedValues('s-sel');
            const name = document.getElementById('student-name').value;

            if (!type || !grade || !topic || !language) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½ï¼ˆæ¨™æœ‰*çš„é …ç›®ï¼‰');
                return;
            }

            let template = '';

            if (type === 'intro') {
                template = `ã€English Speaking Practice - Topic Introductionã€‘

Student Level: Grade ${grade} (CEFR: ${grade === '7' ? 'A1' : grade === '8' ? 'A1+' : 'A2'})
Topic: ${topic}
${sel.length > 0 ? `Related SEL Skills: ${sel.join(', ')}` : ''}
${name ? `Student Name: ${name}` : ''}

---

Hi there! ğŸ‘‹ Today we're going to talk about **${topic}**.

Before we start, let me introduce the topic in a fun way:
[Provide 2-3 simple, relatable scenarios in English]
[Include visual description or emoji to aid understanding]

**Key vocabulary we'll use today:**
- [5-7 key words with simple definitions and Chinese if needed]

Now, I have a question for you:
**[One warm-up question in simple English, with Chinese support if needed]**

Feel free to answer in English (or with some Chinese if you need to). No pressure! ğŸ˜Š`;
            }
            else if (type === 'scenario') {
                template = `ã€Scenario-Based Speaking Practiceã€‘

Student Level: Grade ${grade}
Topic: ${topic}
Language Target: ${language}
Duration: ${duration || '5-10 minutes'}
SEL Focus: ${sel.length > 0 ? sel.join(', ') : ''}
${name ? `Student Name: ${name}` : ''}

---

**Setting:** [Describe a realistic scene related to: ${topic}]

**Your role:** [What the student is supposed to do]

**My role:** [What I will do as the practice partner]

---

Let me start the conversation:

[Provide opening line in simple English, max 2 sentences]
[If needed, add Chinese prompt: "(ç°¡ä¸­ï¼š[ä¸­æ–‡æç¤º])" ]

**Your turn!** 
Try to respond with 1-3 sentences. 
It's okay to make mistakes - that's how we learn! 

Here are some sentence starters if you need help:
- "I think..."
- "I like..."
- "I can help by..."
- "That's a good idea because..."`;
            }
            else if (type === 'opinion') {
                template = `ã€Opinion & Reason Expressing Practiceã€‘

Student Level: Grade ${grade}
Topic: ${topic}
Language Structure: "I think... because..."
Duration: ${duration || '3-5 minutes'}
${name ? `Student Name: ${name}` : ''}

---

**Let's practice expressing your opinion!**

Here's a question for you:
ğŸ¤” **${topic}ç›¸é—œçš„å•é¡Œï¼š[A concrete question in simple English]**

Try to answer like this:
**"I think [opinion]. Because [reason]."**

Example:
"I think ${topic} is important. Because it affects our future."

---

**Now, YOUR turn!**

What do you think about ${topic}?
(Remember: There's no "wrong" answer here! Tell me what YOU really think.)

[If student hesitates, provide scaffolding:]
- If you need ideas: "Do you think [option A] or [option B]?"
- If you need vocabulary: "The word for [ä¸­æ–‡] is '[English word]'"
- If you need confidence: "Take your time! Say your idea, and I can help with the English."`;
            }
            else if (type === 'listening') {
                template = `ã€Listening & Comprehension Checkã€‘

Student Level: Grade ${grade}
Topic: ${topic}
Duration: ${duration || '3-5 minutes'}
${name ? `Student Name: ${name}` : ''}

---

**Quick check - Do you understand?**

I'm going to ask you a simple question about what we just talked about:

[Ask 1 concrete question in simple English related to: ${topic}]

Options (if needed):
a) [Option A]
b) [Option B]

Answer in English or Chinese - whatever feels comfortable!

---

**Why I'm asking:**
I want to make sure you're following along. Every step matters! ğŸ”ï¸

If you don't understand:
â†’ "No problem! Let me explain differently..."
â†’ [Rephrase with simpler vocabulary or use Chinese]`;
            }
            else if (type === 'challenge') {
                template = `ã€Progressive Challengeã€‘

Student Level: Grade ${grade}
Topic: ${topic}
Current Task: ${language}
Next Challenge: [More complex task related to: ${topic}]
${name ? `Student Name: ${name}` : ''}

---

**You're doing really well!** ğŸŒŸ

Now I'd like to try something a bit more challenging. Don't worry - I'll help you!

**Challenge:** [Describe the new task clearly]

Example: "Instead of just saying yes or no, let's try asking 'why' questions about ${topic}."

Model:
- Simple version: "Do you agree?"
- Challenge version: "Why do you think that's important for ${topic}?"

---

**Ready to try?**

[Present new task with clear instruction + one model example]

Take your time. I'm here to help! ğŸ’ª`;
            }

            currentPrompt = template;
            displayPrompt(template);
        }

        function displayPrompt(prompt) {
            const previewDiv = document.getElementById('preview');
            previewDiv.textContent = prompt;
        }

        function copyToClipboard() {
            if (!currentPrompt) {
                alert('è«‹å…ˆç”ŸæˆPrompt');
                return;
            }

            navigator.clipboard.writeText(currentPrompt).then(() => {
                const feedback = document.getElementById('copyFeedback');
                feedback.classList.add('show');
                setTimeout(() => {
                    feedback.classList.remove('show');
                }, 2000);
            }).catch(() => {
                alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½');
            });
        }

        function downloadPrompt() {
            if (!currentPrompt) {
                alert('è«‹å…ˆç”ŸæˆPrompt');
                return;
            }

            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(currentPrompt));
            element.setAttribute('download', 'SEL_SDG_Prompt_' + new Date().getTime() + '.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }
    </script>
</body>
</html>
