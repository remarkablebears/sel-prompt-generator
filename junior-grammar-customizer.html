<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ‹ä¸­è‹±æ–‡æ–‡æ³•ç­ç´šå®¢è£½Promptç”Ÿæˆå™¨ | Middle School English Grammar Customized Prompt Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Traditional Chinese', sans-serif;
            background: #F5F5F5;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .left-panel, .right-panel {
            padding: 40px;
            overflow-y: auto;
            max-height: 90vh;
            background: #FAFAFA;
        }

        .right-panel {
            background: white;
        }

        header {
            margin-bottom: 30px;
        }

        .title {
            font-size: 24px;
            font-weight: 800;
            color: #212121;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 14px;
            color: #666;
            font-weight: 500;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 700;
            color: #212121;
            margin-bottom: 8px;
        }

        .form-label-en {
            display: block;
            font-size: 12px;
            color: #999;
            font-weight: 400;
            margin-top: 2px;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #E0E0E0;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            color: #212121;
            background: white;
            transition: all 0.2s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #666;
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .section-header {
            background: #F0F0F0;
            padding: 15px;
            border-radius: 6px;
            margin: 25px 0 15px 0;
            font-weight: 700;
            color: #212121;
            font-size: 15px;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border: 1px solid #E0E0E0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checkbox-item:hover {
            background: #F5F5F5;
            border-color: #999;
        }

        .checkbox-item input {
            width: auto;
            margin-right: 8px;
            cursor: pointer;
        }

        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            flex: 1;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 14px 20px;
            font-size: 14px;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-generate {
            background: #333;
            color: white;
        }

        .btn-generate:hover {
            background: #555;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .btn-copy, .btn-download {
            background: white;
            color: #333;
            border: 2px solid #333;
        }

        .btn-copy:hover, .btn-download:hover {
            background: #F5F5F5;
        }

        #preview {
            background: white;
            padding: 30px;
            border-radius: 8px;
            border: 1px solid #E0E0E0;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 13px;
            line-height: 1.7;
            color: #212121;
            font-family: 'Courier New', monospace;
            min-height: 400px;
        }

        .copy-feedback {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #333;
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        .copy-feedback.show {
            opacity: 1;
        }

        .footer {
            grid-column: 1 / -1;
            padding: 30px 40px;
            background: #F5F5F5;
            border-top: 1px solid #DDD;
            font-size: 12px;
            color: #666;
            line-height: 1.8;
        }

        .footer-text {
            text-align: center;
            margin-bottom: 20px;
        }

        .footer-divider {
            height: 1px;
            background: #DDD;
            margin: 20px 0;
        }

        .footer-credit {
            text-align: center;
            margin-bottom: 20px;
            font-size: 12px;
        }

        .footer-credit p {
            margin: 5px 0;
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            .left-panel, .right-panel {
                max-height: none;
            }

            .button-group {
                flex-direction: column;
            }

            .checkbox-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Left Panel: Form -->
        <div class="left-panel">
            <header>
                <div class="title">ğŸ“š åœ‹ä¸­è‹±æ–‡æ–‡æ³•ç­ç´šå®¢è£½Promptç”Ÿæˆå™¨</div>
                <div class="subtitle">Customized Middle School English Grammar Prompt Generator</div>
            </header>

            <form id="designForm">
                <div class="section-header">ğŸ“‹ ç­ç´šæª”æ¡ˆ | Class Profile</div>

                <div class="form-group">
                    <label class="form-label">
                        ç­ç´šåç¨± | Class Name
                        <span class="form-label-en">e.g., ä¸ƒå¹´ç´šAç­ / Grade 7 Class A</span>
                    </label>
                    <input type="text" id="className" placeholder="ä¾‹ï¼šä¸ƒå¹´ç´šAç­" required />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        ç­ç´šäººæ•¸ | Class Size
                        <span class="form-label-en"></span>
                    </label>
                    <input type="number" id="classSize" min="10" max="40" placeholder="ä¾‹ï¼š30äºº" required />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        ç­ç´šç‰¹å¾µ | Student Characteristics (è¤‡é¸)
                        <span class="form-label-en">Select all that apply</span>
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="active" name="characteristic" value="éœ€è¦å¤šå‹•èˆ‡è®ŠåŒ–åˆºæ¿€çš„åŒå­¸">
                            <label for="active">ğŸ”´ æ´»æ½‘å¥½å‹•/éœ€è¦å¤šè®ŠåŒ–</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="emotion" name="characteristic" value="æƒ…æ„Ÿè¡¨é”éœ€è¦æ›´å¤šæ”¯æŒçš„åŒå­¸">
                            <label for="emotion">ğŸ’™ æƒ…æ„Ÿè¡¨é”è¼ƒæ•æ„Ÿ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="fast" name="characteristic" value="å­¸ç¿’é€²åº¦å¿«ã€æ€è€ƒæ·±å…¥çš„åŒå­¸">
                            <label for="fast">â­ å­¸ç¿’é€²åº¦å¿«</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="slow" name="characteristic" value="éœ€è¦æ›´å¤šæ™‚é–“ç†è§£èˆ‡å¯¦è¸çš„åŒå­¸">
                            <label for="slow">ğŸ“– å­¸ç¿’ç¯€å¥è¼ƒç·©</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="quiet" name="characteristic" value="è¼ƒç‚ºå…§å‘ã€éœ€è¦æ™‚é–“é†é‡€çš„åŒå­¸">
                            <label for="quiet">ğŸ¤ è¼ƒç‚ºå…§å‘å®‰éœ</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="structure" name="characteristic" value="éœ€è¦æ›´æ˜ç¢ºå¼•å°èˆ‡çµæ§‹çš„åŒå­¸">
                            <label for="structure">âš ï¸ éœ€è¦æ¸…æ™°å¼•å°</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="stable" name="characteristic" value="ç­ç´šæ•´é«”ç©©å®šã€å­¸ç¿’å‹•åŠ›è¶³">
                            <label for="stable">âœ¨ ç­ç´šç©©å®šæ­£å¸¸</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="rural" name="characteristic" value="ä½æ–¼åé„‰åœ°å€ã€è³‡æºè¼ƒæœ‰é™">
                            <label for="rural">ğŸŒ„ åé„‰åœ°å€</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        å­¸ç¿’é¢¨æ ¼ | Learning Styles (å¯è¤‡é¸)
                        <span class="form-label-en"></span>
                    </label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="visual" name="style" value="è¦–è¦ºå‹">
                            <label for="visual">ğŸ‘ï¸ è¦–è¦ºå‹</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="auditory" name="style" value="è½è¦ºå‹">
                            <label for="auditory">ğŸ‘‚ è½è¦ºå‹</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="kinesthetic" name="style" value="å‹•è¦ºå‹">
                            <label for="kinesthetic">ğŸƒ å‹•è¦ºå‹</label>
                        </div>
                    </div>
                </div>

                <div class="section-header">ğŸ¯ ä»Šå¤©çš„èª² | Today's Lesson</div>

                <div class="form-group">
                    <label class="form-label">
                        æ–‡æ³•ä¸»é¡Œ | Grammar Topic
                        <span class="form-label-en">e.g., ç¾åœ¨å®Œæˆå¼ã€è¢«å‹•èªæ…‹</span>
                    </label>
                    <input type="text" id="grammarTopic" placeholder="ä¾‹ï¼šç¾åœ¨å®Œæˆå¼ã€è¢«å‹•èªæ…‹ã€é—œä¿‚å­å¥" required />
                </div>

                <div class="form-group">
                    <label class="form-label">
                        æ•™å­¸æ–¹å¼ | Teaching Approach
                        <span class="form-label-en"></span>
                    </label>
                    <select id="approach" required>
                        <option value="">é¸æ“‡æ–¹å¼ | Select Approach</option>
                        <option value="è§£èªªèˆ‡ç·´ç¿’">ğŸ“– è§£èªªèˆ‡ç·´ç¿’ | Explanation & Drills</option>
                        <option value="èªå¢ƒå­¸ç¿’">ğŸ¨ èªå¢ƒå­¸ç¿’ | Contextual Learning</option>
                        <option value="éŠæˆ²åŒ–">ğŸ² éŠæˆ²åŒ– | Gamification</option>
                        <option value="çœŸå¯¦æ‡‰ç”¨">ğŸ’¬ çœŸå¯¦æ‡‰ç”¨ | Real-world Use</option>
                        <option value="éŒ¯èª¤ä¿®æ­£">âœï¸ éŒ¯èª¤ä¿®æ­£ | Error Correction</option>
                        <option value="åŒå„•å­¸ç¿’">ğŸ‘¥ åŒå„•å­¸ç¿’ | Peer Learning</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        èª²ç¨‹å…§å®¹ | Course Content
                        <span class="form-label-en">è²¼æ•™æ¡ˆã€èª²ç¶±ã€æˆ–èª²ç¨‹é‡é»</span>
                    </label>
                    <textarea id="courseContent" placeholder="è²¼ä¸Šæ•™æ¡ˆå…§å®¹æˆ–èª²ç¨‹é‡é»..." required></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        èª²å ‚æ™‚é•· | Class Duration
                        <span class="form-label-en"></span>
                    </label>
                    <select id="duration" required>
                        <option value="">é¸æ“‡æ™‚é•· | Select Duration</option>
                        <option value="45åˆ†é˜">45åˆ†é˜ | 45 minutes</option>
                        <option value="90åˆ†é˜">90åˆ†é˜ | 90 minutes</option>
                        <option value="å…¶ä»–">å…¶ä»– | Other</option>
                    </select>
                </div>

                <div class="section-header">â­ ç‰¹æ®Šéœ€æ±‚ | Special Notes</div>

                <div class="form-group">
                    <label class="form-label">
                        ä»Šå¤©çš„ç‰¹æ®Šç‹€æ³ | Today's Special Circumstances
                        <span class="form-label-en">e.g., é€²åº¦è½å¾Œã€éœ€åŠ å¼·ç·´ç¿’</span>
                    </label>
                    <textarea id="specialNeeds" placeholder="ä¾‹ï¼šé€™å–®å…ƒé€²åº¦è¼ƒè½å¾Œï¼›ç­ç´šæ–‡æ³•æ¦‚å¿µéœ€åŠ å¼·"></textarea>
                </div>

                <div class="button-group">
                    <button type="button" class="btn-generate" onclick="generatePrompt()">ğŸ“ ç”Ÿæˆ | Generate</button>
                    <button type="button" class="btn-copy" onclick="copyToClipboard()">ğŸ“‹ è¤‡è£½ | Copy</button>
                    <button type="button" class="btn-download" onclick="downloadPrompt()">â¬‡ï¸ ä¸‹è¼‰ | Download</button>
                </div>
            </form>
        </div>

        <!-- Right Panel: Preview -->
        <div class="right-panel">
            <header>
                <div class="title">âœ¨ ç”Ÿæˆçš„Prompté è¦½</div>
                <div class="subtitle">Generated Prompt Preview - å¯ç›´æ¥è²¼é€²Claude/Gemini</div>
            </header>
            <div id="preview">é»æ“Šã€Œç”Ÿæˆã€é–‹å§‹ | Click Generate to start...</div>
        </div>

        <!-- Copy Feedback -->
        <div id="copyFeedback" class="copy-feedback">âœ… å·²è¤‡è£½ | Copied!</div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-text">
                <strong>Beta ç‰ˆæœ¬ | Beta Version</strong><br>
                é¦–æ¬¡é–‹ç™¼æ™‚é–“ï¼š2025å¹´11æœˆ (èˆ‡ Claude.ai å…±æ§‹) | First co-developed with Claude.ai, November 2025<br>
                æœ€å¾Œæ›´æ–°ï¼š2025å¹´11æœˆ14æ—¥ | Last updated: November 14, 2025
            </div>

            <div class="footer-divider"></div>

            <div class="footer-credit">
                <p>åœ‹ç«‹é›²æ—ç§‘æŠ€å¤§å­¸æ‡‰ç”¨å¤–èªç³»è‘‰æƒ èç‰¹è˜æ•™æˆåœ˜éšŠè£½ä½œ Â© 2025</p>
                <p>Designed by Distinguished Professor Hui-Chin Yeh and Ensemble, Department of Applied Linguistics, National Yunlin University of Science and Technology, Douliu, Taiwan Â© 2025</p>
            </div>

            <div class="footer-divider"></div>

            <div style="font-size: 0.8em; line-height: 1.8; color: #000; text-align: left; background: #f5f5f5; padding: 15px; border-radius: 6px; margin-top: 20px;">
                <strong style="display: block; margin-bottom: 10px;">éš±ç§æ”¿ç­–èˆ‡è²¬ä»»èªªæ˜ | Privacy Policy & Responsibility Statement</strong>
                
                <p style="margin-bottom: 10px;"><strong>ä¸­æ–‡ï¼š</strong>æˆ‘å€‘ä¸æœƒåœ¨æœ¬å·¥å…·ä¸Šè’é›†ä»»ä½•è³‡æ–™ç”¨æ–¼ä»»ä½•ç”¨é€”ã€‚</p>
                <p style="margin-bottom: 10px;">å¦‚æœæ‚¨æƒ³åˆ†äº«æ‚¨è¨­è¨ˆçš„æ•™æ¡ˆPromptä¾›å…¶ä»–æ•™å¸«ä½¿ç”¨æˆ–ä¾›è‘‰æƒ èæ•™æˆåœ˜éšŠé€²è¡Œç ”ç©¶åˆ†æï¼Œè«‹æ´½è©¢æ‚¨åƒåŠ çš„è©²å ´æ¬¡ç ”ç¿’ï¼Œæˆ‘å€‘æœƒæä¾›è©²å ´æ¬¡å°ˆå±¬çš„Googleé›²ç«¯åˆ†äº«é€£çµèˆ‡è©³ç´°èªªæ˜ã€‚</p>
                <p style="margin-bottom: 15px;">æœ¬å·¥å…·çš„è¨­è¨ˆå…§å®¹ä¹‹è‘—ä½œæ¬Šæ­¸å±¬æ–¼è¨­è¨ˆè€…ã€‚æœ¬å¹³å°åƒ…æä¾›æƒ³æ³•ç†Ÿç·´ç·´ç¿’ã€‚è¨­è¨ˆè€…è«‹ç¢ºä¿å°Šé‡è‘—ä½œæ¬Šï¼Œä¸å»ºè­°å•†æ¥­ç”¨é€”ã€‚æˆ‘å€‘æ­¡è¿æ•™å¸«ä¹‹é–“çš„çŸ¥è­˜åˆ†äº«èˆ‡äº¤æµã€‚</p>

                <p style="margin-bottom: 10px;"><strong>English:</strong> We do not collect any data on this tool for any purpose.</p>
                <p style="margin-bottom: 10px;">If you'd like to share your designed prompts with other teachers or for Prof. Hui-Chin Yeh's team's research analysis, please contact your workshop session. We'll provide workshop-specific Google Drive links and detailed instructions.</p>
                <p style="margin-bottom: 15px;">The copyright of design content created with this tool belongs to the designer. This platform is provided for practicing and refining ideas. Designers should ensure copyright respect and commercial use is not recommended. We welcome knowledge sharing and exchange among teachers.</p>

                <p style="margin-top: 20px;">Google Drive Link: Provided by each workshop session, or email our team inbox managed by Prof. Yeh and her team: <strong>remarkablebears@gmail.com</strong></p>
            </div>
        </div>
    </div>

    <script>
        let currentPrompt = '';

        function generatePrompt() {
            const className = document.getElementById('className').value;
            const classSize = document.getElementById('classSize').value;
            const characteristics = Array.from(document.querySelectorAll('input[name="characteristic"]:checked')).map(el => el.value);
            const styles = Array.from(document.querySelectorAll('input[name="style"]:checked')).map(el => el.value);
            const grammarTopic = document.getElementById('grammarTopic').value;
            const approach = document.getElementById('approach').value;
            const courseContent = document.getElementById('courseContent').value;
            const duration = document.getElementById('duration').value;
            const specialNeeds = document.getElementById('specialNeeds').value;

            const prompt = `ã€${className} - è‹±æ–‡æ–‡æ³•å­¸ç¿’ AIåŠ©æ‰‹ Promptã€‘

ã€ç­ç´šæª”æ¡ˆã€‘

ç­ç´šåç¨±ï¼š${className}
ç­ç´šäººæ•¸ï¼š${classSize}äºº

ç­ç´šç‰¹å¾µï¼š
${characteristics.length > 0 ? characteristics.map(c => `â€¢ ${c}`).join('\n') : 'â€¢ ç­ç´šç‰¹å¾µå¤šå…ƒ'}

ç­ç´šå­¸ç¿’é¢¨æ ¼ï¼š
${styles.length > 0 ? styles.map(s => `â€¢ ${s}`).join('\n') : 'â€¢ å¤šå…ƒæ··åˆ'}

ã€ä»Šå¤©çš„èª²ç¨‹ã€‘

æ–‡æ³•ä¸»é¡Œï¼š${grammarTopic}
æ•™å­¸æ–¹å¼ï¼š${approach}
èª²å ‚æ™‚é•·ï¼š${duration}

ã€èª²ç¨‹å…§å®¹ã€‘
${courseContent}

ã€ç‰¹æ®Šç‹€æ³ã€‘
${specialNeeds || 'ç„¡'}

ã€ä½ çš„è§’è‰²ã€‘

ä½ æ˜¯${className}çš„è‹±æ–‡æ–‡æ³•å­¸ç¿’åŠ©æ‰‹ã€‚ä½ çš„ç›®æ¨™æ˜¯å¹«åŠ©å­¸ç”Ÿï¼š
1. æ¸…æ¥šç†è§£${grammarTopic}çš„æ–‡æ³•è¦å‰‡å’Œç”¨æ³•
2. é€éç·´ç¿’å’Œæ‡‰ç”¨éå›ºæ–‡æ³•æ¦‚å¿µ
3. æ ¹æ“šç­ç´šç‰¹å¾µæä¾›é©åˆ‡çš„å­¸ç¿’æ”¯æŒ
4. å»ºç«‹å­¸ç”Ÿå°è‹±æ–‡æ–‡æ³•çš„ä¿¡å¿ƒ

ã€ç­ç´šç‰¹å¾µèª¿æ•´ã€‘

${generateCharacteristicAdjustments(characteristics)}

ã€å­¸ç¿’é¢¨æ ¼èª¿æ•´ã€‘

${generateStyleAdjustments(styles)}

ã€æ•™å­¸æ–¹å¼å¯¦è¸ã€‘

æ ¹æ“šä»Šå¤©é¸æ“‡çš„ã€Œ${approach}ã€æ–¹å¼ï¼š
${generateApproachGuidance(approach)}

ã€äº’å‹•è¦å‰‡ã€‘

1. ç”¨æ¸…æ™°ã€ç°¡æ½”çš„èªè¨€è§£é‡‹æ–‡æ³•è¦å‰‡
2. æä¾›è±å¯Œçš„ä¾‹å¥å’Œèªå¢ƒç·´ç¿’
3. è€å¿ƒå›ç­”å­¸ç”Ÿçš„ç–‘å•ï¼Œä¸å˜²ç¬‘éŒ¯èª¤
4. æ ¹æ“šç­ç´šç‰¹å¾µèª¿æ•´é›£åº¦å’Œé€²åº¦
5. æä¾›å³æ™‚çš„æ­£å‘å›é¥‹å’Œé¼“å‹µ
6. é¼“å‹µå­¸ç”Ÿåœ¨çœŸå¯¦èªå¢ƒä¸­æ‡‰ç”¨æ–‡æ³•

ã€èª²ç¨‹æµç¨‹ã€‘

é–‹å ´ï¼ˆ5åˆ†é˜ï¼‰ï¼š
- æº«æš–å•å€™ï¼Œè¤‡ç¿’ç›¸é—œå‰ç½®çŸ¥è­˜
- ä»‹ç´¹ä»Šå¤©è¦å­¸ç¿’çš„${grammarTopic}å’Œå­¸ç¿’ç›®æ¨™

ä¸»è¦æ´»å‹•ï¼ˆ${duration === '45åˆ†é˜' ? '30-35' : duration === '90åˆ†é˜' ? '60-75' : 'æ ¹æ“šå¯¦éš›æ™‚é–“'}åˆ†é˜ï¼‰ï¼š
- ç”¨ã€Œ${approach}ã€æ–¹å¼é€²è¡Œ${grammarTopic}çš„æ•™å­¸
- å¾ç°¡åˆ°é›£ï¼Œå¾ä¾‹å¥åˆ°ç·´ç¿’
- æ ¹æ“šç­ç´šç‰¹å¾µèª¿æ•´æ­¥èª¿
- æä¾›å……è¶³çš„ç·´ç¿’æ©Ÿæœƒ

çµå°¾ï¼ˆ5-10åˆ†é˜ï¼‰ï¼š
- çµ±æ•´é—œéµæ¦‚å¿µå’Œç”¨æ³•
- æä¾›å®¶åº­ç·´ç¿’æˆ–é ç¿’ä»»å‹™
- é¼“å‹µå­¸ç”Ÿçš„é€²æ­¥å’ŒåŠªåŠ›

---

ç¾åœ¨é–‹å§‹æ ¹æ“šä¸Šè¿°è¨­å®šé€²è¡Œæ•™å­¸ã€‚è¨˜ä½ï¼š**ä½ çš„é¦–è¦ä»»å‹™æ˜¯è®“å­¸ç”Ÿç†è§£å’Œèƒ½å¤ æ­£ç¢ºæ‡‰ç”¨${grammarTopic}**ï¼Œå…¶æ¬¡æ˜¯å®Œæˆé€²åº¦ã€‚`;

            currentPrompt = prompt;
            displayPrompt(prompt);
        }

        function generateCharacteristicAdjustments(characteristics) {
            const adjustments = {
                'éœ€è¦å¤šå‹•èˆ‡è®ŠåŒ–åˆºæ¿€çš„åŒå­¸': 'â€¢ è®ŠåŒ–ç·´ç¿’å½¢å¼å’Œé¡Œå‹\nâ€¢ æä¾›å³æ™‚åé¥‹å’Œæˆå°±æ„Ÿ\nâ€¢ é¼“å‹µä»–å€‘è¬›è§£çµ¦å…¶ä»–äºº',
                'æƒ…æ„Ÿè¡¨é”éœ€è¦æ›´å¤šæ”¯æŒçš„åŒå­¸': 'â€¢ å»ºç«‹å®‰å…¨ã€æ¥ç´çš„å­¸ç¿’ç’°å¢ƒ\nâ€¢ é¼“å‹µæå•å’Œè¡¨é”å›°æƒ‘\nâ€¢ æä¾›å……è¶³çš„ç·´ç¿’ç©ºé–“',
                'å­¸ç¿’é€²åº¦å¿«ã€æ€è€ƒæ·±å…¥çš„åŒå­¸': 'â€¢ æä¾›é€²éšé¡Œç›®å’Œæ›´è¤‡é›œçš„æ‡‰ç”¨\nâ€¢ é‚€è«‹ä»–å€‘ç™¼ç¾æ–‡æ³•è¦å‰‡çš„æ·±å±¤é‚è¼¯\nâ€¢ èªå¯ä»–å€‘çš„è¦‹è§£',
                'éœ€è¦æ›´å¤šæ™‚é–“ç†è§£èˆ‡å¯¦è¸çš„åŒå­¸': 'â€¢ æ”¾æ…¢æ•™å­¸é€Ÿåº¦ï¼Œå¤šé‡è¤‡\nâ€¢ æä¾›æ›´å¤šå…·é«”ä¾‹å¥\nâ€¢ åˆ†è§£è¤‡é›œæ¦‚å¿µ',
                'è¼ƒç‚ºå…§å‘ã€éœ€è¦æ™‚é–“é†é‡€çš„åŒå­¸': 'â€¢ æä¾›å……è¶³çš„æ€è€ƒæ™‚é–“\nâ€¢ å°Šé‡ä»–å€‘çš„è¡¨é”é€Ÿåº¦\nâ€¢ æä¾›æ›¸å¯«ç·´ç¿’æ©Ÿæœƒ',
                'éœ€è¦æ›´æ˜ç¢ºå¼•å°èˆ‡çµæ§‹çš„åŒå­¸': 'â€¢ æä¾›æ¸…æ™°çš„æ–‡æ³•è¦å‰‡å’Œæ­¥é©Ÿ\nâ€¢ è¨­è¨ˆçµæ§‹åŒ–ç·´ç¿’\nâ€¢ æ˜ç¢ºæŒ‡å‡ºå°éŒ¯åŸå› ',
                'ç­ç´šæ•´é«”ç©©å®šã€å­¸ç¿’å‹•åŠ›è¶³': 'â€¢ ç­ç´šåŸºç¤ç©©å®šï¼Œå¯åŠ æ·±æ–‡æ³•æ‡‰ç”¨\nâ€¢ é¼“å‹µåŒå„•äº’ç›¸æª¢æŸ¥å’Œè¨è«–\nâ€¢ å‰µé€ ç«¶åˆå­¸ç¿’çš„æ°›åœ',
                'ä½æ–¼åé„‰åœ°å€ã€è³‡æºè¼ƒæœ‰é™': 'â€¢ å–„ç”¨åœ¨åœ°ç”Ÿæ´»æƒ…å¢ƒçš„ä¾‹å¥\nâ€¢ å……åˆ†åˆ©ç”¨æ•¸ä½è³‡æºå’Œå·¥å…·\nâ€¢ é‡è¦–æœ€æ ¸å¿ƒçš„æ–‡æ³•æ¦‚å¿µ'
            };

            return characteristics.length > 0 
                ? characteristics.map(c => adjustments[c] || c).join('\n\n') 
                : 'â€¢ ç­ç´šç‰¹å¾µå¤šå…ƒï¼Œå»ºè­°æ··åˆæ•™å­¸ç­–ç•¥';
        }

        function generateStyleAdjustments(styles) {
            const adjustments = {
                'è¦–è¦ºå‹': 'â€¢ ä½¿ç”¨åœ–è¡¨ã€é¡è‰²æ¨™è¨˜ã€è¦–è¦ºåŒ–è¦å‰‡\nâ€¢ æä¾›æ¸…æ™°çš„æ–‡æ³•çµæ§‹åœ–',
                'è½è¦ºå‹': 'â€¢ ç”¨å°è©±å’Œæœ—èª¦ç·´ç¿’\nâ€¢ è§£é‡‹æ–‡æ³•è¦å‰‡æ™‚ç”¨å£é ­èªªæ˜',
                'å‹•è¦ºå‹': 'â€¢ ç´å…¥å‹•ä½œã€æ‰‹å‹¢è¼”åŠ©ç†è§£\nâ€¢ é¼“å‹µå¯¦è¸æ‡‰ç”¨å’Œé€ å¥'
            };

            return styles.map(s => adjustments[s] || s).join('\n\n') || 'â€¢ å¤šå…ƒæ··åˆï¼šçµåˆè¦–è¦ºã€è½è¦ºã€å‹•è¦ºçš„æ•™å­¸æ–¹å¼';
        }

        function generateApproachGuidance(approach) {
            const guidance = {
                'ğŸ“– è§£èªªèˆ‡ç·´ç¿’ | Explanation & Drills': 'â€¢ æ¸…æ¥šè§£é‡‹${grammarTopic}çš„è¦å‰‡\nâ€¢ æä¾›å¤šæ¨£åŒ–çš„ç·´ç¿’é¡Œ\nâ€¢ å¾ç°¡å–®é€æ­¥é€²éš',
                'ğŸ¨ èªå¢ƒå­¸ç¿’ | Contextual Learning': 'â€¢ åœ¨çœŸå¯¦èªå¥ä¸­å±•ç¾æ–‡æ³•\nâ€¢ é¼“å‹µå­¸ç”Ÿè§€å¯Ÿæ–‡æ³•åœ¨èªå¢ƒä¸­çš„ç”¨æ³•\nâ€¢ å¾èªå¢ƒå­¸ç¿’è¦å‰‡',
                'ğŸ² éŠæˆ²åŒ– | Gamification': 'â€¢ è¨­è¨ˆæœ‰è¶£çš„æ–‡æ³•éŠæˆ²\nâ€¢ é¼“å‹µç«¶çˆ­å’Œåˆä½œ\nâ€¢ æä¾›æˆå°±æ„Ÿ',
                'ğŸ’¬ çœŸå¯¦æ‡‰ç”¨ | Real-world Use': 'â€¢ ç”¨ç”Ÿæ´»æƒ…å¢ƒå±•ç¤ºæ–‡æ³•æ‡‰ç”¨\nâ€¢ é¼“å‹µå­¸ç”Ÿç”¨è©²æ–‡æ³•é€ å¥\nâ€¢ é€£çµå­¸ç”Ÿç¶“é©—',
                'âœï¸ éŒ¯èª¤ä¿®æ­£ | Error Correction': 'â€¢ è­˜åˆ¥å¸¸è¦‹éŒ¯èª¤\nâ€¢ è€å¿ƒè§£é‡‹æ­£ç¢ºç”¨æ³•\nâ€¢ é¼“å‹µåè¤‡ç·´ç¿’',
                'ğŸ‘¥ åŒå„•å­¸ç¿’ | Peer Learning': 'â€¢ ä¿ƒé€²å­¸ç”Ÿé–“çš„è¨è«–\nâ€¢ é¼“å‹µå­¸ç”Ÿç›¸äº’è§£é‡‹\nâ€¢ å»ºç«‹åˆä½œå­¸ç¿’ç’°å¢ƒ'
            };

            return guidance[approach] || approach;
        }

        function displayPrompt(prompt) {
            const previewDiv = document.getElementById('preview');
            previewDiv.textContent = prompt;
        }

        function copyToClipboard() {
            if (!currentPrompt) {
                alert('è«‹å…ˆç”Ÿæˆ Prompt | Please generate prompt first');
                return;
            }

            navigator.clipboard.writeText(currentPrompt).then(() => {
                const feedback = document.getElementById('copyFeedback');
                feedback.classList.add('show');
                setTimeout(() => {
                    feedback.classList.remove('show');
                }, 2000);
            }).catch(() => {
                alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ | Copy failed, please copy manually');
            });
        }

        function downloadPrompt() {
            if (!currentPrompt) {
                alert('è«‹å…ˆç”Ÿæˆ Prompt | Please generate prompt first');
                return;
            }

            const className = document.getElementById('className').value || 'Grammar_Prompt';
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(currentPrompt));
            element.setAttribute('download', `${className}_Grammar_Prompt_${new Date().getTime()}.txt`);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }
    </script>
</body>
</html>