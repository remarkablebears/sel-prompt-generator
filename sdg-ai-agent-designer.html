<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEL AIæ•™å­¸ä»£ç†äººè¨­è¨ˆå™¨ï¼ˆåœ‹ä¸­ç‰ˆï¼‰| SEL AI Teaching Agent Designer for Junior High</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Traditional Chinese', sans-serif;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: #000;
            margin-bottom: 30px;
            padding: 40px 20px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        header p {
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        /* ä½¿ç”¨èªªæ˜ Banner */
        .info-banner {
            background: linear-gradient(135deg, rgba(56, 142, 60, 0.1) 0%, rgba(76, 175, 80, 0.1) 100%);
            border-left: 4px solid #388e3c;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            color: #000;
        }

        .info-banner strong {
            display: block;
            margin-bottom: 12px;
            font-size: 1.05em;
        }

        .info-banner p {
            line-height: 1.8;
            margin-bottom: 12px;
            font-size: 0.95em;
        }

        .info-banner .divider {
            height: 1px;
            background: rgba(56, 142, 60, 0.2);
            margin: 15px 0;
        }

        /* å¹´ç´šå¿«é€Ÿé¸æ“‡å€ */
        .grade-selector {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.15) 0%, rgba(129, 199, 132, 0.15) 100%);
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .grade-selector h3 {
            color: #388e3c;
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 700;
        }

        .grade-selector p {
            color: #555;
            margin-bottom: 12px;
            font-size: 0.95em;
        }

        .grade-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .grade-btn {
            padding: 12px 24px;
            border: 2px solid #4caf50;
            background: white;
            color: #388e3c;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95em;
        }

        .grade-btn:hover {
            background: #e8f5e9;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.2);
        }

        .grade-btn.active {
            background: #4caf50;
            color: white;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 1.4em;
            color: #000;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid #4caf50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #000;
            font-weight: 600;
            font-size: 0.95em;
        }

        label .en {
            font-size: 0.85em;
            color: #666;
            font-weight: normal;
            display: block;
            margin-top: 4px;
        }

        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #4caf50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .step-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .step-item {
            margin-bottom: 12px;
            padding: 10px;
            background: white;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
        }

        .step-item strong {
            color: #4caf50;
        }

        .add-step {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .add-step input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #4caf50;
            color: white;
        }

        .btn-primary:hover {
            background: #388e3c;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #000;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .preview-box {
            background: #f8f9fa;
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .preview-title {
            font-weight: 600;
            color: #4caf50;
            margin-bottom: 12px;
        }

        .preview-content {
            background: white;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .button-group button {
            flex: 1;
        }

        .footer {
            margin-top: 50px;
            text-align: center;
            color: #000;
            padding: 30px 20px;
        }

        .footer-text {
            font-size: 0.9em;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .footer-divider {
            height: 1px;
            background: #ddd;
            margin: 20px 0;
        }

        .footer-credit {
            font-size: 0.85em;
            color: #666;
        }

        .footer-credit p {
            margin-bottom: 8px;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .success-toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 25px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: none;
            animation: slideIn 0.3s ease-in-out;
        }

        .success-toast.show {
            display: block;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .preset-indicator {
            display: inline-block;
            background: #c8e6c9;
            color: #388e3c;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-left: 8px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ¨™é¡Œ -->
        <header>
            <h1>ğŸŒ± SEL AIæ•™å­¸ä»£ç†äººè¨­è¨ˆå™¨</h1>
            <p>åœ‹ä¸­ç‰ˆæœ¬ | Junior High School Edition</p>
        </header>

        <!-- å¹´ç´šå¿«é€Ÿé¸æ“‡ -->
        <div class="grade-selector">
            <h3>ğŸ“š é¸æ“‡å¹´ç´šå¿«é€Ÿè¼‰å…¥é è¨­å…§å®¹</h3>
            <p>é»æ“Šä¸‹æ–¹æŒ‰éˆ•è‡ªå‹•å¡«å…¥è©²å¹´ç´šçš„æ•™å­¸ç›®æ¨™ã€è¦å‰‡å’Œæµç¨‹å»ºè­°</p>
            <div class="grade-buttons">
                <button class="grade-btn" onclick="loadGradePreset('7')">ä¸ƒå¹´ç´š</button>
                <button class="grade-btn" onclick="loadGradePreset('8')">å…«å¹´ç´š</button>
                <button class="grade-btn" onclick="loadGradePreset('9')">ä¹å¹´ç´š</button>
            </div>
        </div>

        <!-- ä½¿ç”¨èªªæ˜ -->
        <div class="info-banner">
            <strong>ğŸ’¡ ä½¿ç”¨æ­¥é©Ÿ | Usage Steps</strong>
            <p><strong>ç¬¬1æ­¥ï¼š</strong>é¸æ“‡å¹´ç´šå¿«é€Ÿè¼‰å…¥é è¨­å…§å®¹ï¼Œæˆ–ç›´æ¥å¡«å¯«åŸºæœ¬è³‡è¨Š</p>
            <p><strong>ç¬¬2æ­¥ï¼š</strong>è‡ªè¨‚æ•™å­¸è¦å‰‡ã€å·¥å…·å’Œå­¸ç¿’æµç¨‹ï¼ˆå¦‚éœ€è¦ï¼‰</p>
            <p><strong>ç¬¬3æ­¥ï¼š</strong>é»æ“Šã€Œç”ŸæˆPromptã€é è¦½AIæ•™å­¸ä»£ç†äººçš„æŒ‡ä»¤</p>
            <p><strong>ç¬¬4æ­¥ï¼š</strong>è¤‡è£½æˆ–ä¸‹è¼‰Promptåˆ°æ‚¨é¸æ“‡çš„AIå·¥å…·ï¼ˆå¦‚Claudeã€ChatGPTç­‰ï¼‰</p>
        </div>

        <!-- ä¸»è¦è¡¨å–® -->
        <div class="main-grid">
            <!-- å·¦å´ï¼šåŸºæœ¬è¨­å®š -->
            <div>
                <!-- åŸºæœ¬è¨­å®š -->
                <div class="section">
                    <div class="section-title">âš™ï¸ åŸºæœ¬è¨­å®š | Basic Settings</div>

                    <!-- ç›®æ¨™ -->
                    <div class="form-group">
                        <label>
                            å­¸ç¿’ç›®æ¨™ <span class="en">Learning Objective</span>
                        </label>
                        <textarea id="objective" placeholder="ä¾‹ï¼šå¹«åŠ©å­¸ç”Ÿè­˜åˆ¥å’Œç®¡ç†è‡ªå·±çš„æƒ…ç·’ï¼Œå­¸ç¿’å°Šé‡ä»–äººçš„å¤šå…ƒæƒ³æ³•"></textarea>
                    </div>

                    <!-- AIè§’è‰²åç¨± -->
                    <div class="form-group">
                        <label>
                            AIè§’è‰²åç¨± <span class="en">AI Agent Name</span>
                        </label>
                        <input type="text" id="agentName" placeholder="ä¾‹ï¼šå¿ƒéˆå¼•å°å“¡ã€æƒ…æ„Ÿæ•™ç·´">
                    </div>

                    <!-- è§’è‰²æè¿° -->
                    <div class="form-group">
                        <label>
                            è§’è‰²æè¿° <span class="en">Agent Description</span>
                        </label>
                        <textarea id="agentDesc" placeholder="ä¾‹ï¼šä¸€ä½å…·æœ‰æº«æš–ã€åŒç†å¿ƒçš„æƒ…æ„Ÿæ•™ç·´ï¼Œæ“…é•·ç”¨å¹½é»˜å’Œé¼“å‹µçš„æ–¹å¼å¼•å°é’å°‘å¹´ã€‚"></textarea>
                    </div>

                    <!-- æ•™å­¸ä¸»é¡Œ -->
                    <div class="form-group">
                        <label>
                            æ•™å­¸ä¸»é¡Œ <span class="en">Teaching Theme</span>
                        </label>
                        <input type="text" id="theme" placeholder="ä¾‹ï¼šæƒ…ç·’ç®¡ç†ã€åŒç†å¿ƒã€ç¤¾äº¤æŠ€å·§ã€è¡çªè§£æ±º">
                    </div>

                    <!-- æ•™å­¸è³‡æº -->
                    <div class="form-group">
                        <label>
                            æ•™å­¸è³‡æº <span class="en">Teaching Resources</span>
                        </label>
                        <input type="text" id="resources" placeholder="ä¾‹ï¼šæƒ…å¢ƒæ¡ˆä¾‹ã€å°æ•…äº‹ã€è§’è‰²æ‰®æ¼”ã€è¨è«–å•é¡Œ">
                    </div>

                    <!-- ä¸Šèª²æ™‚é–“ -->
                    <div class="form-group">
                        <label>
                            ä¸Šèª²æ™‚é–“ <span class="en">Duration</span>
                        </label>
                        <input type="text" id="duration" placeholder="ä¾‹ï¼š20-30åˆ†é˜">
                    </div>
                </div>

                <!-- è¦å‰‡ -->
                <div class="section">
                    <div class="section-title">ğŸ“‹ è¦å‰‡ | Rules</div>

                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule1" checked>
                            ä»¥å°Šé‡ã€åŒç†å¿ƒçš„èªæ°£å›æ‡‰å­¸ç”Ÿçš„æƒ³æ³•èˆ‡æ„Ÿå—
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule2" checked>
                            ä¸åšåƒ¹å€¼åˆ¤æ–·ï¼Œæä¾›å¼•å°å’Œå»ºè­°ä»¥ä¿ƒé€²è‡ªæˆ‘åæ€
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule3" checked>
                            ä½¿ç”¨ç›¸é—œçš„é’å°‘å¹´ç¶“é©—æ¡ˆä¾‹ï¼Œä¿ƒé€²é«˜åº¦åƒèˆ‡
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule4" checked>
                            ç¢ºä¿å¿ƒç†å®‰å…¨ï¼Œé¼“å‹µå­¸ç”Ÿé–‹æ”¾åœ°åˆ†äº«æƒ³æ³•
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule5">
                            çµåˆèª²ç¨‹æ¨™æº–èˆ‡æ ¸å¿ƒç´ é¤Šç›®æ¨™
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule6">
                            é¿å…è¬›é“ç†ï¼Œä»¥å°è©±å’Œåæ€ç‚ºä¸»
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule7">
                            é¼“å‹µå­¸ç”ŸåŒä¼´å­¸ç¿’ï¼Œå¼·èª¿å¤šå…ƒè§€é»çš„åƒ¹å€¼
                        </label>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šå­¸ç¿’æµç¨‹ -->
            <div>
                <!-- å·¥å…· -->
                <div class="section">
                    <div class="section-title">ğŸ› ï¸ å·¥å…· | Tools</div>

                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool1" checked>
                            åœ–ç‰‡èˆ‡æƒ…æ™¯è¨­ç½® (Markdownèªæ³•)
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool2">
                            è§’è‰²æ‰®æ¼”æƒ…å¢ƒ
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool3">
                            æ€è€ƒå¼•å°å•é¡Œ
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool4">
                            å°çµ„è¨è«–æ¡†æ¶
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool5">
                            åæ€æ—¥èªŒæç¤º
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool6">
                            è¦–è¦ºåŒ–åœ–è¡¨ (å¿ƒæƒ…æº«åº¦è¨ˆã€èƒ½é‡ç®¡ç†åœ–)
                        </label>
                    </div>
                </div>

                <!-- å­¸ç¿’æµç¨‹èˆ‡æ­¥é©Ÿ -->
                <div class="section">
                    <div class="section-title">ğŸ“š å­¸ç¿’æµç¨‹ | Learning Flow</div>

                    <div class="add-step">
                        <input type="text" id="stepInput" placeholder="è¼¸å…¥æ­¥é©Ÿå…§å®¹...">
                        <button class="btn-primary" onclick="addStep()">æ–°å¢</button>
                    </div>

                    <div id="stepList" class="step-list">
                        <div class="step-item">
                            <strong>Step 1:</strong> é–‹å ´æš–èº«ï¼šç°¡ä»‹ä»Šæ—¥ä¸»é¡Œï¼Œå»ºç«‹å®‰å…¨çš„å­¸ç¿’ç’°å¢ƒ
                        </div>
                        <div class="step-item">
                            <strong>Step 2:</strong> æå‡ºæƒ…æ™¯æ¡ˆä¾‹æˆ–å¼•å°å•é¡Œ
                        </div>
                        <div class="step-item">
                            <strong>Step 3:</strong> å¼•å°å­¸ç”Ÿæ€è€ƒèˆ‡è¨è«–
                        </div>
                        <div class="step-item">
                            <strong>Step 4:</strong> ç¸½çµå­¸ç¿’é‡é»ï¼Œé¼“å‹µåæ€èˆ‡æ‡‰ç”¨
                        </div>
                    </div>

                    <button class="btn-secondary" onclick="clearSteps()">æ¸…ç©ºæ­¥é©Ÿ</button>
                </div>

                <!-- é è¦½ -->
                <div class="section">
                    <div class="section-title">ğŸ‘ï¸ é è¦½ | Preview</div>

                    <button class="btn-primary" onclick="generatePrompt()" style="width: 100%; margin-bottom: 15px;">
                        ç”Ÿæˆ Prompt
                    </button>

                    <div class="preview-box">
                        <div class="preview-title">ç”Ÿæˆçš„Promptï¼š</div>
                        <div class="preview-content" id="preview">é»æ“Šã€Œç”ŸæˆPromptã€ä»¥é è¦½...</div>
                    </div>

                    <div class="button-group">
                        <button class="btn-primary" onclick="copyPrompt()">è¤‡è£½</button>
                        <button class="btn-secondary" onclick="downloadPrompt()">ä¸‹è¼‰</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-text">
                <strong>Beta ç‰ˆæœ¬ | Beta Version</strong><br>
                åœ‹ä¸­ç‰ˆæœ¬é¦–æ¬¡é–‹ç™¼æ™‚é–“ï¼š2025å¹´11æœˆ (èˆ‡ Claude.ai å…±æ§‹) | First co-developed with Claude.ai, November 2025<br>
                æœ€å¾Œæ›´æ–°ï¼š2025å¹´11æœˆ14æ—¥ | Last updated: November 14, 2025
            </div>

            <div class="footer-divider"></div>

            <div class="footer-credit">
                <p>åœ‹ç«‹é›²æ—ç§‘æŠ€å¤§å­¸æ‡‰ç”¨å¤–èªç³»è‘‰æƒ èç‰¹è˜æ•™æˆåœ˜éšŠè£½ä½œ Â© 2025</p>
                <p>Designed by Distinguished Professor Hui-Chin Yeh and Ensemble, Department of Applied Linguistics, National Yunlin University of Science and Technology, Douliu, Taiwan Â© 2025</p>
            </div>

            <div class="footer-divider"></div>

            <div style="font-size: 0.8em; line-height: 1.8; color: #000; text-align: left; background: #f5f5f5; padding: 15px; border-radius: 6px; margin-top: 20px;">
                <strong style="display: block; margin-bottom: 10px;">éš±ç§æ”¿ç­–èˆ‡è²¬ä»»èªªæ˜ | Privacy Policy & Responsibility Statement</strong>
                
                <p style="margin-bottom: 10px;"><strong>ä¸­æ–‡ï¼š</strong>æˆ‘å€‘ä¸æœƒåœ¨æœ¬å·¥å…·ä¸Šè’é›†ä»»ä½•è³‡æ–™ç”¨æ–¼ä»»ä½•ç”¨é€”ã€‚</p>
                <p style="margin-bottom: 10px;">å¦‚æœæ‚¨æƒ³åˆ†äº«æ‚¨è¨­è¨ˆçš„æ•™æ¡ˆPromptä¾›å…¶ä»–æ•™å¸«ä½¿ç”¨æˆ–ä¾›è‘‰æƒ èæ•™æˆåœ˜éšŠé€²è¡Œç ”ç©¶åˆ†æï¼Œè«‹æ´½è©¢æ‚¨åƒåŠ çš„è©²å ´æ¬¡ç ”ç¿’ï¼Œæˆ‘å€‘æœƒæä¾›è©²å ´æ¬¡å°ˆå±¬çš„Googleé›²ç«¯åˆ†äº«é€£çµèˆ‡è©³ç´°èªªæ˜ã€‚</p>
                <p style="margin-bottom: 15px;">æœ¬å·¥å…·çš„è¨­è¨ˆå…§å®¹ä¹‹è‘—ä½œæ¬Šæ­¸å±¬æ–¼è¨­è¨ˆè€…ã€‚æœ¬å¹³å°åƒ…æä¾›æƒ³æ³•ç†Ÿç·´ç·´ç¿’ã€‚è¨­è¨ˆè€…è«‹ç¢ºä¿å°Šé‡è‘—ä½œæ¬Šï¼Œä¸å»ºè­°å•†æ¥­ç”¨é€”ã€‚æˆ‘å€‘æ­¡è¿æ•™å¸«ä¹‹é–“çš„çŸ¥è­˜åˆ†äº«èˆ‡äº¤æµã€‚</p>

                <p style="margin-bottom: 10px;"><strong>English:</strong> We do not collect any data on this tool for any purpose.</p>
                <p style="margin-bottom: 10px;">If you'd like to share your designed prompts with other teachers or for Prof. Hui-Chin Yeh's team's research analysis, please contact your workshop session. We will provide you with that session's dedicated Google Drive sharing link and detailed instructions.</p>
                <p style="margin-bottom: 10px;">The copyright of designs created with this tool belongs to the designer. This platform is intended for practicing ideas. Please respect copyright regulations and we do not recommend commercial use. We welcome knowledge sharing and exchange among teachers.</p>

                <p style="margin-top: 15px; font-weight: 600;">Googleé›²ç«¯é€£çµ | Google Drive Link: ç”±å„å ´æ¬¡ç ”ç¿’æä¾›ï¼Œæˆ–å¯„ä¿¡åˆ°åœ˜éšŠä¿¡ç®±ç”±è‘‰æ•™æˆåŠåœ˜éšŠå…±åŒç®¡ç† | Provided by each workshop session, or email our team inbox</p>
            </div>
        </div>
    </div>

    <!-- æˆåŠŸé€šçŸ¥ -->
    <div class="success-toast" id="successToast"></div>

    <script>
        let steps = [];
        let currentGrade = null;

        // å¹´ç´šé è¨­å…§å®¹
        const gradePresets = {
            '7': {
                objective: 'å¹«åŠ©ä¸ƒå¹´ç´šå­¸ç”Ÿèªè­˜è‡ªå·±çš„æƒ…ç·’è®ŠåŒ–ï¼Œå­¸ç¿’åŸºç¤çš„æƒ…ç·’ç®¡ç†æŠ€å·§ï¼ŒåŸ¹é¤Šç©æ¥µçš„è‡ªæˆ‘èªçŸ¥',
                agentName: 'æƒ…æ„Ÿé™ªä¼´è€…',
                agentDesc: 'ä¸€ä½æº«æš–ã€è¦ªåˆ‡çš„æƒ…æ„Ÿæ•™ç·´ï¼Œç†è§£é’å°‘å¹´æˆé•·çš„æŒ‘æˆ°ï¼Œç”¨å¹½é»˜å’Œå¯¦ä¾‹å¹«åŠ©å­¸ç”Ÿèªè­˜è‡ªå·±çš„æƒ…ç·’ï¼Œæä¾›å¯¦ç”¨çš„æƒ…ç·’ç®¡ç†æ–¹æ³•ã€‚',
                theme: 'æƒ…ç·’è¦ºå¯Ÿèˆ‡è‡ªæˆ‘èªè­˜',
                resources: 'æƒ…æ„Ÿæ¡ˆä¾‹ã€æ—¥å¸¸æƒ…æ™¯ã€ç°¡å–®çš„è‡ªè©•å·¥å…·',
                duration: '20-25åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6'],
                tools: ['tool1', 'tool3', 'tool5', 'tool6'],
                steps: [
                    'é–‹å ´ï¼šåˆ†äº«å­¸ç”Ÿå¯èƒ½ç†Ÿæ‚‰çš„æƒ…ç·’è®ŠåŒ–æƒ…æ™¯',
                    'èªè­˜æƒ…ç·’ï¼šç”¨ç°¡å–®çš„æ–¹å¼ä»‹ç´¹ä¸åŒçš„æƒ…ç·’é¡å‹',
                    'å€‹äººç¶“é©—åˆ†äº«ï¼šé‚€è«‹å­¸ç”Ÿåˆ†äº«ä»–å€‘çš„æƒ…ç·’ç¶“é©—',
                    'å­¸ç¿’æŠ€å·§ï¼šæ•™å°ä¸€é …ç°¡å–®çš„æƒ…ç·’ç®¡ç†æ–¹æ³•ï¼ˆæ·±å‘¼å¸ã€åœé “æ€è€ƒç­‰ï¼‰',
                    'åæ€èˆ‡æ‡‰ç”¨ï¼šå”åŠ©å­¸ç”Ÿåæ€å¦‚ä½•åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æ‡‰ç”¨'
                ]
            },
            '8': {
                objective: 'å¹«åŠ©å…«å¹´ç´šå­¸ç”Ÿæ·±å…¥ç†è§£è‡ªå·±å’Œä»–äººçš„æƒ…ç·’ï¼Œç™¼å±•åŒç†å¿ƒï¼Œå­¸ç¿’æœ‰æ•ˆçš„äººéš›æºé€šæŠ€å·§å’Œè¡çªè§£æ±ºæ–¹æ³•',
                agentName: 'åŒç†å¿ƒæ•™ç·´',
                agentDesc: 'ä¸€ä½å¯Œæœ‰æ´å¯ŸåŠ›å’Œè€å¿ƒçš„æ•™ç·´ï¼Œå–„æ–¼æ•æ‰äººéš›äº’å‹•ä¸­çš„å¾®å¦™ä¹‹è™•ï¼Œå¼•å°å­¸ç”Ÿç«™åœ¨ä»–äººè§’åº¦æ€è€ƒï¼Œä¿ƒé€²åŒç†å¿ƒç™¼å±•å’Œæœ‰æ•ˆæºé€šã€‚',
                theme: 'åŒç†å¿ƒèˆ‡äººéš›æºé€š',
                resources: 'çœŸå¯¦æƒ…å¢ƒæ¡ˆä¾‹ã€äººç‰©è§’è‰²å¡ã€æºé€šå°è©±ç¯„ä¾‹ã€åŒç†å¿ƒå ´æ™¯',
                duration: '25-30åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule6', 'rule7'],
                tools: ['tool1', 'tool2', 'tool3', 'tool4', 'tool5'],
                steps: [
                    'å¼•å…¥è¤‡é›œæƒ…æ™¯ï¼šæå‡ºæ¶‰åŠå¤šäººè¦–è§’çš„ç¾å¯¦æƒ…å¢ƒ',
                    'å¤šè§’åº¦åˆ†æï¼šå¼•å°å­¸ç”Ÿå¾ä¸åŒäººç‰©è§’åº¦ç†è§£æƒ…æ„Ÿ',
                    'åŒç†å¿ƒç·´ç¿’ï¼šå”åŠ©å­¸ç”Ÿé«”é©—ä»–äººçš„æ„Ÿå—å’Œæƒ³æ³•',
                    'æºé€šæŠ€å·§æ‡‰ç”¨ï¼šç¤ºç¯„å’Œç·´ç¿’æœ‰æ•ˆçš„è¡¨é”æ–¹å¼',
                    'è§£æ±ºæ–¹æ¡ˆæ¢è¨ï¼šä¿ƒé€²å­¸ç”Ÿæ€è€ƒäº’åˆ©çš„è§£æ±ºæ–¹å¼'
                ]
            },
            '9': {
                objective: 'å¹«åŠ©ä¹å¹´ç´šå­¸ç”Ÿç™¼å±•è¤‡é›œçš„ç¤¾æœƒæƒ…æ„Ÿèƒ½åŠ›ï¼ŒåŒ…æ‹¬è‡ªä¸»æ±ºç­–ã€è²¬ä»»æ‰¿æ“”ã€å»ºç«‹å¥åº·äººéš›é—œä¿‚ï¼Œç‚ºæœªä¾†æŒ‘æˆ°åšæº–å‚™',
                agentName: 'äººç”Ÿå°å¸«',
                agentDesc: 'ä¸€ä½å…·æœ‰æ·±åšäººç”Ÿç¶“é©—çš„å°å¸«ï¼Œç†è§£é’å°‘å¹´é¢è‡¨çš„å‡å­¸å’Œç”Ÿæ¶¯æŠ‰æ“‡ï¼Œå¼•å°å­¸ç”Ÿé€²è¡Œæ·±å±¤åæ€ï¼ŒåŸ¹é¤Šé ˜å°åŠ›ã€è²¬ä»»æ„Ÿå’Œæœªä¾†å°å‘çš„æ€ç¶­ã€‚',
                theme: 'æ±ºç­–èƒ½åŠ›ã€è²¬ä»»æ‰¿æ“”èˆ‡ç”Ÿæ¶¯æº–å‚™',
                resources: 'çœŸå¯¦æ±ºç­–æ¡ˆä¾‹ã€å‡å­¸å·¥ä½œé¸é …ã€é ˜å°åŠ›æƒ…æ™¯ã€åæ€æ—¥èªŒæ¡†æ¶',
                duration: '30-35åˆ†é˜',
                rules: ['rule1', 'rule2', 'rule3', 'rule4', 'rule5', 'rule6', 'rule7'],
                tools: ['tool1', 'tool2', 'tool3', 'tool4', 'tool5', 'tool6'],
                steps: [
                    'å ´æ™¯è¨­ç½®ï¼šæå‡ºæ¶‰åŠå¤šæ–¹åˆ©ç›Šçš„è¤‡é›œæ±ºç­–æƒ…å¢ƒ',
                    'åƒ¹å€¼æ¾„æ¸…ï¼šå¼•å°å­¸ç”Ÿæ€è€ƒè‡ªå·±çš„æ ¸å¿ƒåƒ¹å€¼å’Œç›®æ¨™',
                    'æ±ºç­–åˆ†æï¼šå”åŠ©è©•ä¼°ä¸åŒé¸é …çš„åˆ©å¼Šå’Œå¾Œæœ',
                    'è²¬ä»»è€ƒé‡ï¼šæ¢è¨æ±ºç­–èƒŒå¾Œçš„ç¤¾æœƒå’Œå€‹äººè²¬ä»»',
                    'é•·æœŸåæ€ï¼šä¿ƒé€²å­¸ç”Ÿæ€è€ƒæ±ºç­–å¦‚ä½•å½±éŸ¿æœªä¾†ç™¼å±•'
                ]
            }
        };

        function loadGradePreset(grade) {
            const preset = gradePresets[grade];
            if (!preset) return;

            // å¡«å¯«åŸºæœ¬ä¿¡æ¯
            document.getElementById('objective').value = preset.objective;
            document.getElementById('agentName').value = preset.agentName;
            document.getElementById('agentDesc').value = preset.agentDesc;
            document.getElementById('theme').value = preset.theme;
            document.getElementById('resources').value = preset.resources;
            document.getElementById('duration').value = preset.duration;

            // é‡ç½®è¦å‰‡è¤‡é¸æ¡†
            document.querySelectorAll('.checkbox-item input[id^="rule"]').forEach(checkbox => {
                checkbox.checked = preset.rules.includes(checkbox.id);
            });

            // é‡ç½®å·¥å…·è¤‡é¸æ¡†
            document.querySelectorAll('.checkbox-item input[id^="tool"]').forEach(checkbox => {
                checkbox.checked = preset.tools.includes(checkbox.id);
            });

            // è¼‰å…¥æ­¥é©Ÿ
            steps = [...preset.steps];
            renderSteps();

            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.grade-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            currentGrade = grade;

            // é¡¯ç¤ºæˆåŠŸæç¤º
            showToast(`âœ… å·²è¼‰å…¥${grade}å¹´ç´šé è¨­å…§å®¹ï¼`);
        }

        function addStep() {
            const input = document.getElementById('stepInput');
            if (input.value.trim()) {
                steps.push(input.value);
                renderSteps();
                input.value = '';
            }
        }

        function renderSteps() {
            const list = document.getElementById('stepList');
            list.innerHTML = '';
            steps.forEach((step, index) => {
                const div = document.createElement('div');
                div.className = 'step-item';
                div.innerHTML = `
                    <strong>Step ${index + 1}:</strong> ${step}
                    <button class="btn-secondary" style="width: 80px; padding: 5px; font-size: 0.8em; margin-top: 8px;" onclick="removeStep(${index})">åˆªé™¤</button>
                `;
                list.appendChild(div);
            });
        }

        function removeStep(index) {
            steps.splice(index, 1);
            renderSteps();
        }

        function clearSteps() {
            steps = [];
            renderSteps();
        }

        function generatePrompt() {
            const objective = document.getElementById('objective').value;
            const agentName = document.getElementById('agentName').value || 'æ•™å­¸åŠ©æ‰‹';
            const agentDesc = document.getElementById('agentDesc').value;
            const theme = document.getElementById('theme').value;
            const resources = document.getElementById('resources').value;
            const duration = document.getElementById('duration').value;

            let rulesText = 'è¦å‰‡ï¼š\n';
            if (document.getElementById('rule1').checked) rulesText += '1. ä»¥å°Šé‡ã€åŒç†å¿ƒçš„èªæ°£å›æ‡‰å­¸ç”Ÿçš„æƒ³æ³•èˆ‡æ„Ÿå—\n';
            if (document.getElementById('rule2').checked) rulesText += '2. ä¸åšåƒ¹å€¼åˆ¤æ–·ï¼Œæä¾›å¼•å°å’Œå»ºè­°ä»¥ä¿ƒé€²è‡ªæˆ‘åæ€\n';
            if (document.getElementById('rule3').checked) rulesText += '3. ä½¿ç”¨ç›¸é—œçš„é’å°‘å¹´ç¶“é©—æ¡ˆä¾‹ï¼Œä¿ƒé€²é«˜åº¦åƒèˆ‡\n';
            if (document.getElementById('rule4').checked) rulesText += '4. ç¢ºä¿å¿ƒç†å®‰å…¨ï¼Œé¼“å‹µå­¸ç”Ÿé–‹æ”¾åœ°åˆ†äº«æƒ³æ³•\n';
            if (document.getElementById('rule5').checked) rulesText += '5. çµåˆèª²ç¨‹æ¨™æº–èˆ‡æ ¸å¿ƒç´ é¤Šç›®æ¨™\n';
            if (document.getElementById('rule6').checked) rulesText += '6. é¿å…è¬›é“ç†ï¼Œä»¥å°è©±å’Œåæ€ç‚ºä¸»\n';
            if (document.getElementById('rule7').checked) rulesText += '7. é¼“å‹µå­¸ç”ŸåŒä¼´å­¸ç¿’ï¼Œå¼·èª¿å¤šå…ƒè§€é»çš„åƒ¹å€¼\n';

            let toolsText = 'æ•™å­¸å·¥å…·èˆ‡æ–¹æ³•ï¼š\n';
            if (document.getElementById('tool1').checked) toolsText += '- åœ–ç‰‡èˆ‡æƒ…æ™¯è¨­ç½®\n';
            if (document.getElementById('tool2').checked) toolsText += '- è§’è‰²æ‰®æ¼”æƒ…å¢ƒ\n';
            if (document.getElementById('tool3').checked) toolsText += '- æ€è€ƒå¼•å°å•é¡Œ\n';
            if (document.getElementById('tool4').checked) toolsText += '- å°çµ„è¨è«–æ¡†æ¶\n';
            if (document.getElementById('tool5').checked) toolsText += '- åæ€æ—¥èªŒæç¤º\n';
            if (document.getElementById('tool6').checked) toolsText += '- è¦–è¦ºåŒ–åœ–è¡¨\n';

            let stepsText = 'å­¸ç¿’æµç¨‹èˆ‡æ­¥é©Ÿï¼š\n';
            steps.forEach((step, index) => {
                stepsText += `Step ${index + 1}: ${step}\n`;
            });

            const prompt = `
ã€SEL AIæ•™å­¸ä»£ç†äººè¨­è¨ˆ - åœ‹ä¸­ç‰ˆæœ¬ã€‘

ã€ç›®æ¨™èˆ‡è§’è‰²ã€‘
å­¸ç¿’ç›®æ¨™ï¼š${objective}
æ•™å­¸ä¸»é¡Œï¼š${theme}
AIè§’è‰²ï¼š${agentName}
${agentDesc ? `è§’è‰²æè¿°ï¼š${agentDesc}` : ''}

é€™æ˜¯ä¸€å€‹å¹«åŠ©åœ‹ä¸­ç”Ÿç·´ç¿’${theme}çš„äººå·¥æ™ºæ…§æ•™å­¸ä»£ç†äººï¼Œæ—¨åœ¨é€šéå°è©±ã€å¼•å°å’Œåæ€ä¿ƒé€²ç¤¾æœƒæƒ…æ„Ÿå­¸ç¿’(SEL)ã€‚è«‹å®Œå…¨ä½¿ç”¨ç¹é«”ä¸­æ–‡é€²è¡Œäº’å‹•ã€‚

ã€æ•™å­¸èƒŒæ™¯ã€‘
å­¸ç¿’å°è±¡ï¼šåœ‹ä¸­ç”Ÿï¼ˆå¹´é½¡13-15æ­²ï¼‰
æ•™å­¸è³‡æºï¼š${resources}
é è¨ˆæ™‚é–“ï¼š${duration}

ã€${rulesText}ã€‘

ã€${toolsText}ã€‘

ã€${stepsText}ã€‘

ã€æ•™å­¸æ–¹å¼ã€‘
- æ¯æ¬¡é€²è¡Œä¸€å€‹æ­¥é©Ÿï¼Œç­‰å¾…å­¸ç”Ÿå›æ‡‰å¾Œå†é€²è¡Œä¸‹ä¸€æ­¥
- ç©æ¥µå‚¾è½ï¼Œè©¢å•å¼•å°æ€§å•é¡Œè€Œéç›´æ¥çµ¦äºˆç­”æ¡ˆ
- æ ¹æ“šå­¸ç”Ÿçš„åæ‡‰å‹•æ…‹èª¿æ•´ï¼Œç¢ºä¿åƒèˆ‡åº¦å’Œç†è§£åº¦
- å®šæœŸç¸½çµé‡é»ï¼Œç¢ºä¿å­¸ç¿’ç›®æ¨™é”æˆ

è«‹æ ¹æ“šä¸Šè¿°è¨­å®šé€²è¡Œæ•™å­¸ã€‚
            `;

            document.getElementById('preview').textContent = prompt.trim();
            showToast('âœ… Promptå·²ç”Ÿæˆï¼');
        }

        function copyPrompt() {
            const preview = document.getElementById('preview');
            navigator.clipboard.writeText(preview.textContent).then(() => {
                showToast('âœ… å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            });
        }

        function downloadPrompt() {
            const preview = document.getElementById('preview');
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(preview.textContent));
            element.setAttribute('download', 'SEL_AIæ•™å­¸_åœ‹ä¸­ç‰ˆ.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
            showToast('âœ… å·²ä¸‹è¼‰Promptï¼');
        }

        function showToast(message) {
            const toast = document.getElementById('successToast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // åˆå§‹åŒ–é è¨­æ­¥é©Ÿ
        window.addEventListener('load', () => {
            renderSteps();
        });
    </script>
</body>
</html>
