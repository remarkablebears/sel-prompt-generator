<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SELå®Œæ•´ç‰ˆ Promptç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Traditional Chinese', sans-serif;
            background: linear-gradient(135deg, #6c63ff 0%, #9b5de5 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .form-section, .preview-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #6c63ff;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 20px;
            background: none;
            border: none;
            font-size: 1em;
            cursor: pointer;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: #6c63ff;
            border-bottom-color: #6c63ff;
        }

        .tab-btn:hover {
            color: #6c63ff;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
            font-size: 0.95em;
        }

        label .required {
            color: #e74c3c;
        }

        input[type="text"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #6c63ff;
            box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .radio-group, .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .radio-item, .checkbox-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        input[type="radio"],
        input[type="checkbox"] {
            cursor: pointer;
            width: 18px;
            height: 18px;
            margin-top: 2px;
            flex-shrink: 0;
        }

        .sel-card {
            background: #f8f9ff;
            border-left: 4px solid #6c63ff;
            padding: 12px;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .sel-card strong {
            color: #6c63ff;
        }

        .sel-card p {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .hint {
            font-size: 0.85em;
            color: #999;
            margin-top: 8px;
            font-style: italic;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 30px;
        }

        button.generate, button.download, button.copy {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        button.generate {
            background: #6c63ff;
            color: white;
        }

        button.generate:hover {
            background: #5a52d5;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }

        button.copy {
            background: #f39c12;
            color: white;
        }

        button.copy:hover {
            background: #e67e22;
        }

        button.download {
            background: #3498db;
            color: white;
        }

        button.download:hover {
            background: #2980b9;
        }

        .preview-content {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 20px;
            min-height: 400px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            color: #333;
            max-height: 600px;
            overflow-y: auto;
        }

        .preview-empty {
            color: #999;
            text-align: center;
            padding: 40px 20px;
        }

        .copy-feedback {
            display: none;
            padding: 12px;
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-radius: 6px;
            margin-bottom: 20px;
            text-align: center;
        }

        .copy-feedback.show {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .info-box {
            background: #f3e5f5;
            border-left: 4px solid #6c63ff;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #512da8;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>â¤ï¸ SELå®Œæ•´ç‰ˆ Promptç”Ÿæˆå™¨</h1>
            <p>ç¤¾æœƒæƒ…æ„Ÿå­¸ç¿’äº”å¤§èƒ½åŠ› - è‹±èªæ•™å­¸æ‡‰ç”¨</p>
        </header>

        <div class="main-content">
            <!-- å·¦å´ï¼šè¡¨å–® -->
            <div class="form-section">
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('lesson')">ğŸ“š èª²ç¨‹è¨­è¨ˆ</button>
                    <button class="tab-btn" onclick="switchTab('activity')">ğŸ¯ æ´»å‹•è¨­è¨ˆ</button>
                    <button class="tab-btn" onclick="switchTab('speaking')">ğŸ—£ï¸ å£èªªç·´ç¿’</button>
                </div>

                <!-- èª²ç¨‹è¨­è¨ˆ -->
                <div id="lesson" class="tab-content active">
                    <h2 class="section-title">SELèª²ç¨‹è¨­è¨ˆ</h2>

                    <div class="info-box">
                        ğŸ’¡ é€éè‹±èªæ•™å­¸åŸ¹é¤Šå­¸ç”Ÿçš„ç¤¾æœƒæƒ…æ„Ÿèƒ½åŠ›
                    </div>

                    <div class="form-group">
                        <label>å­¸æ ¡/ç­ç´šåç¨± <span class="required">*</span></label>
                        <input type="text" id="lesson-school" placeholder="ä¾‹ï¼šå°ä¸­å¸‚æ±å±±é«˜ä¸­åœ‹ä¸­éƒ¨" onchange="updatePreview()">
                    </div>

                    <div class="form-group">
                        <label>æ•™å­¸å¹´ç´š <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="grade" value="7" onchange="updatePreview()"> åœ‹ä¸­ä¸ƒå¹´ç´š
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="grade" value="8" onchange="updatePreview()"> åœ‹ä¸­å…«å¹´ç´š
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="grade" value="9" onchange="updatePreview()"> åœ‹ä¸­ä¹å¹´ç´š
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>å–®å…ƒä¸»é¡Œ <span class="required">*</span></label>
                        <input type="text" id="lesson-unit" placeholder="ä¾‹ï¼šå€‹äººæˆé•·ã€äººéš›é—œä¿‚" onchange="updatePreview()">
                    </div>

                    <div class="form-group">
                        <label>é¸æ“‡æ ¸å¿ƒSELèƒ½åŠ› <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="è‡ªæˆ‘è¦ºå¯Ÿ" onchange="updatePreview()">
                                <div class="sel-card">
                                    <strong>è‡ªæˆ‘è¦ºå¯Ÿ (Self-Awareness)</strong>
                                    <p>èªè­˜è‡ªå·±çš„æƒ…ç·’ã€åƒ¹å€¼è§€èˆ‡å„ªå‹¢</p>
                                </div>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="è‡ªæˆ‘ç®¡ç†" onchange="updatePreview()">
                                <div class="sel-card">
                                    <strong>è‡ªæˆ‘ç®¡ç† (Self-Management)</strong>
                                    <p>ç®¡ç†æƒ…ç·’ã€è¨­å®šç›®æ¨™ã€å …æŒå…‹æœæŒ‘æˆ°</p>
                                </div>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="ç¤¾æœƒè¦ºå¯Ÿ" onchange="updatePreview()">
                                <div class="sel-card">
                                    <strong>ç¤¾æœƒè¦ºå¯Ÿ (Social Awareness)</strong>
                                    <p>ç†è§£ä»–äººè§€é»ã€å±•ç¾åŒç†å¿ƒã€èªè­˜ç¤¾æœƒè­°é¡Œ</p>
                                </div>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="é—œä¿‚ç®¡ç†" onchange="updatePreview()">
                                <div class="sel-card">
                                    <strong>é—œä¿‚ç®¡ç† (Relationship Management)</strong>
                                    <p>å»ºç«‹å¥åº·äººéš›é—œä¿‚ã€æœ‰æ•ˆæºé€šã€åœ˜éšŠåˆä½œ</p>
                                </div>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="sel" value="è² è²¬ä»»æ±ºç­–" onchange="updatePreview()">
                                <div class="sel-card">
                                    <strong>è² è²¬ä»»æ±ºç­– (Responsible Decision-Making)</strong>
                                    <p>åšå‡ºç¬¦åˆå€«ç†çš„æ±ºå®šã€è€ƒé‡ä»–äººå½±éŸ¿</p>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>æ•™å­¸æ™‚é•·</label>
                        <select id="lesson-time" onchange="updatePreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="45åˆ†é˜">45åˆ†é˜å–®å ‚èª²</option>
                            <option value="90åˆ†é˜">90åˆ†é˜é›™å ‚èª²</option>
                            <option value="ä¸€é€±">ä¸€é€±ï¼ˆå¤šå ‚èª²ï¼‰</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ç‰¹æ®Šè€ƒé‡</label>
                        <textarea id="lesson-notes" placeholder="ä¾‹ï¼šç­ç´šå‹•åŠ›ã€ç‰¹æ®Šéœ€æ±‚ç­‰" onchange="updatePreview()"></textarea>
                    </div>

                    <div class="button-group">
                        <button class="generate" onclick="generateLesson()">ç”Ÿæˆèª²ç¨‹Prompt</button>
                    </div>
                </div>

                <!-- æ´»å‹•è¨­è¨ˆ -->
                <div id="activity" class="tab-content">
                    <h2 class="section-title">SELæ•™å­¸æ´»å‹•è¨­è¨ˆ</h2>

                    <div class="info-box">
                        ğŸ’¡ è¨­è¨ˆèåˆSELçš„å…·é«”æ•™å­¸æ´»å‹•
                    </div>

                    <div class="form-group">
                        <label>æ´»å‹•åç¨± <span class="required">*</span></label>
                        <input type="text" id="activity-name" placeholder="ä¾‹ï¼šæƒ…ç·’è¡¨é”å°çµ„è¨è«–" onchange="updatePreview()">
                    </div>

                    <div class="form-group">
                        <label>å¹´ç´š <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="a-grade" value="7" onchange="updatePreview()"> åœ‹ä¸­ä¸ƒå¹´ç´š
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="a-grade" value="8" onchange="updatePreview()"> åœ‹ä¸­å…«å¹´ç´š
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="a-grade" value="9" onchange="updatePreview()"> åœ‹ä¸­ä¹å¹´ç´š
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>æ ¸å¿ƒSELèƒ½åŠ› <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="a-sel" value="è‡ªæˆ‘è¦ºå¯Ÿ" onchange="updatePreview()">
                                è‡ªæˆ‘è¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="a-sel" value="è‡ªæˆ‘ç®¡ç†" onchange="updatePreview()">
                                è‡ªæˆ‘ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="a-sel" value="ç¤¾æœƒè¦ºå¯Ÿ" onchange="updatePreview()">
                                ç¤¾æœƒè¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="a-sel" value="é—œä¿‚ç®¡ç†" onchange="updatePreview()">
                                é—œä¿‚ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="a-sel" value="è² è²¬ä»»æ±ºç­–" onchange="updatePreview()">
                                è² è²¬ä»»æ±ºç­–
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>æ´»å‹•é¡å‹ <span class="required">*</span></label>
                        <select id="activity-type" onchange="updatePreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="åæ€è¨è«–">åæ€è¨è«–</option>
                            <option value="å°çµ„æ´»å‹•">å°çµ„æ´»å‹•</option>
                            <option value="è§’è‰²æ‰®æ¼”">è§’è‰²æ‰®æ¼”</option>
                            <option value="å‰µæ„è¡¨é”">å‰µæ„è¡¨é”</option>
                            <option value="å•é¡Œè§£æ±º">å•é¡Œè§£æ±º</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>è‹±èªèªè¨€ç›®æ¨™</label>
                        <textarea id="activity-language" placeholder="ä¾‹ï¼šèƒ½ç”¨è‹±æ–‡è¡¨é”æƒ…ç·’ã€é€²è¡Œå”å•†ç­‰" onchange="updatePreview()"></textarea>
                    </div>

                    <div class="button-group">
                        <button class="generate" onclick="generateActivity()">ç”Ÿæˆæ´»å‹•Prompt</button>
                    </div>
                </div>

                <!-- å£èªªç·´ç¿’ -->
                <div id="speaking" class="tab-content">
                    <h2 class="section-title">SELå£èªªç·´ç¿’</h2>

                    <div class="info-box">
                        ğŸ’¡ è¨­è¨ˆæœ‰æ„ç¾©çš„SELç›¸é—œå£èªªç·´ç¿’
                    </div>

                    <div class="form-group">
                        <label>ç·´ç¿’ä¸»é¡Œ <span class="required">*</span></label>
                        <input type="text" id="speaking-topic" placeholder="ä¾‹ï¼šè¡¨é”å€‹äººæƒ…ç·’ã€è™•ç†è¡çª" onchange="updatePreview()">
                    </div>

                    <div class="form-group">
                        <label>å­¸ç”Ÿå¹´ç´š <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-item">
                                <input type="radio" name="s-grade" value="7" onchange="updatePreview()"> åœ‹ä¸­ä¸ƒå¹´ç´š (A1)
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="s-grade" value="8" onchange="updatePreview()"> åœ‹ä¸­å…«å¹´ç´š (A1+)
                            </label>
                            <label class="radio-item">
                                <input type="radio" name="s-grade" value="9" onchange="updatePreview()"> åœ‹ä¸­ä¹å¹´ç´š (A2)
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>SELèƒ½åŠ›ç„¦é» <span class="required">*</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="è‡ªæˆ‘è¦ºå¯Ÿ" onchange="updatePreview()">
                                è‡ªæˆ‘è¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="è‡ªæˆ‘ç®¡ç†" onchange="updatePreview()">
                                è‡ªæˆ‘ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="ç¤¾æœƒè¦ºå¯Ÿ" onchange="updatePreview()">
                                ç¤¾æœƒè¦ºå¯Ÿ
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="é—œä¿‚ç®¡ç†" onchange="updatePreview()">
                                é—œä¿‚ç®¡ç†
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="s-sel" value="è² è²¬ä»»æ±ºç­–" onchange="updatePreview()">
                                è² è²¬ä»»æ±ºç­–
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ç·´ç¿’æƒ…å¢ƒ <span class="required">*</span></label>
                        <textarea id="speaking-scenario" placeholder="ä¾‹ï¼šèˆ‡æœ‹å‹è™•ç†æ„è¦‹ä¸åˆçš„æƒ…æ³" onchange="updatePreview()"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ç·´ç¿’æ™‚é•·</label>
                        <select id="speaking-duration" onchange="updatePreview()">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="3-5åˆ†é˜">3-5åˆ†é˜</option>
                            <option value="5-10åˆ†é˜">5-10åˆ†é˜</option>
                            <option value="10åˆ†é˜ä»¥ä¸Š">10åˆ†é˜ä»¥ä¸Š</option>
                        </select>
                    </div>

                    <div class="button-group">
                        <button class="generate" onclick="generateSpeaking()">ç”Ÿæˆç·´ç¿’Prompt</button>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šé è¦½ -->
            <div class="preview-section">
                <h2 class="section-title">ğŸ“‹ Prompté è¦½</h2>
                
                <div class="copy-feedback" id="copyFeedback">âœ… å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼</div>

                <div class="preview-content" id="preview">
                    <div class="preview-empty">å¡«å¯«å·¦å´è¡¨å–®å¾Œï¼Œç”Ÿæˆçš„Promptæœƒåœ¨æ­¤é¡¯ç¤º</div>
                </div>

                <div class="button-group" style="margin-top: 20px;">
                    <button class="copy" onclick="copyToClipboard()">ğŸ“‹ è¤‡è£½</button>
                    <button class="download" onclick="downloadPrompt()">ğŸ“¥ ä¸‹è¼‰</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPrompt = '';

        function switchTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            
            document.getElementById(tab).classList.add('active');
            event.target.classList.add('active');
            
            document.getElementById('preview').innerHTML = '<div class="preview-empty">å¡«å¯«å·¦å´è¡¨å–®å¾Œï¼Œç”Ÿæˆçš„Promptæœƒåœ¨æ­¤é¡¯ç¤º</div>';
            currentPrompt = '';
        }

        function updatePreview() {}

        function getSelectedValues(name) {
            const checked = document.querySelectorAll(`input[name="${name}"]:checked`);
            return Array.from(checked).map(el => el.value);
        }

        function generateLesson() {
            const school = document.getElementById('lesson-school').value;
            const grade = document.querySelector('input[name="grade"]:checked')?.value;
            const unit = document.getElementById('lesson-unit').value;
            const sels = getSelectedValues('sel');
            const time = document.getElementById('lesson-time').value;
            const notes = document.getElementById('lesson-notes').value;

            if (!school || !grade || !unit || sels.length === 0) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                return;
            }

            const selDescriptions = {
                'è‡ªæˆ‘è¦ºå¯Ÿ': 'èªè­˜è‡ªå·±çš„æƒ…ç·’ã€åƒ¹å€¼è§€èˆ‡å„ªå‹¢',
                'è‡ªæˆ‘ç®¡ç†': 'ç®¡ç†æƒ…ç·’ã€è¨­å®šç›®æ¨™ã€å …æŒå…‹æœæŒ‘æˆ°',
                'ç¤¾æœƒè¦ºå¯Ÿ': 'ç†è§£ä»–äººè§€é»ã€å±•ç¾åŒç†å¿ƒã€èªè­˜ç¤¾æœƒè­°é¡Œ',
                'é—œä¿‚ç®¡ç†': 'å»ºç«‹å¥åº·äººéš›é—œä¿‚ã€æœ‰æ•ˆæºé€šã€åœ˜éšŠåˆä½œ',
                'è² è²¬ä»»æ±ºç­–': 'åšå‡ºç¬¦åˆå€«ç†çš„æ±ºå®šã€è€ƒé‡ä»–äººå½±éŸ¿'
            };

            const prompt = `ã€SELèåˆè‹±èªèª²ç¨‹è¨­è¨ˆã€‘

å­¸æ ¡èƒŒæ™¯ï¼š${school}
æ•™å­¸å¹´ç´šï¼šåœ‹ä¸­${grade}å¹´ç´š
å–®å…ƒä¸»é¡Œï¼š${unit}
æ•™å­¸æ™‚é•·ï¼š${time || 'å¾…å®š'}

æ ¸å¿ƒSELèƒ½åŠ›ï¼š
${sels.map(s => `â€¢ ${s}ï¼š${selDescriptions[s]}`).join('\n')}

${notes ? `ç‰¹æ®Šè€ƒé‡ï¼š${notes}` : ''}

è«‹å¹«æˆ‘è¨­è¨ˆä¸€å€‹èåˆSELçš„è‹±èªèª²ç¨‹ï¼š

1. èª²ç¨‹æ•´é«”æ¶æ§‹
   - å¦‚ä½•åœ¨æ­¤å–®å…ƒä¸­åŸ¹é¤Šé¸å®šçš„SELèƒ½åŠ›
   - SELç›®æ¨™èˆ‡è‹±èªå­¸ç¿’ç›®æ¨™çš„æ•´åˆ

2. æ•™å­¸æ´»å‹•è¨­è¨ˆï¼ˆ3-5å€‹ï¼‰
   - æ¯å€‹æ´»å‹•çš„SELç›®æ¨™èˆ‡è‹±èªèƒ½åŠ›ç›®æ¨™
   - å…·é«”çš„æ•™å­¸æ­¥é©Ÿèˆ‡æ™‚é–“é…ç½®
   - åæ€èˆ‡è©•é‡æ–¹å¼

3. èªè¨€å­¸ç¿’æ¶æ§‹
   - å­—å½™èˆ‡è¡¨é”ï¼ˆç‰¹åˆ¥æ˜¯SELç›¸é—œçš„ï¼‰
   - å¥å‹çµæ§‹
   - è½èªªè®€å¯«æŠ€èƒ½

4. èª²å ‚å°è©±èˆ‡æå•æ¡†æ¶
   - å•Ÿå‹•åæ€çš„æå•
   - å¼•å°è¨è«–çš„å•é¡Œ
   - ä¸­è‹±é›™èªç¯„ä¾‹

5. å½¢æˆæ€§è©•é‡
   - è§€å¯Ÿå­¸ç”ŸSELç™¼å±•çš„é‡é»
   - æª¢æ ¸å·¥å…·å»ºè­°`;

            currentPrompt = prompt;
            displayPrompt(prompt);
        }

        function generateActivity() {
            const name = document.getElementById('activity-name').value;
            const grade = document.querySelector('input[name="a-grade"]:checked')?.value;
            const sels = getSelectedValues('a-sel');
            const type = document.getElementById('activity-type').value;
            const language = document.getElementById('activity-language').value;

            if (!name || !grade || sels.length === 0 || !type) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                return;
            }

            const prompt = `ã€SELæ•™å­¸æ´»å‹•è¨­è¨ˆã€‘

æ´»å‹•åç¨±ï¼š${name}
å¹´ç´šï¼šåœ‹ä¸­${grade}å¹´ç´š
æ´»å‹•é¡å‹ï¼š${type}
SELæ ¸å¿ƒèƒ½åŠ›ï¼š${sels.join('ã€')}
${language ? `è‹±èªèªè¨€ç›®æ¨™ï¼š${language}` : ''}

è«‹è¨­è¨ˆä¸€å€‹è©³ç´°çš„SELèåˆæ•™å­¸æ´»å‹•ï¼š

1. æ´»å‹•æ¦‚è¿°
   - æ´»å‹•çš„SELç›®æ¨™ï¼ˆå…·é«”å¯æ¸¬é‡ï¼‰
   - è‹±èªèƒ½åŠ›ç›®æ¨™
   - é æœŸå­¸ç”Ÿå­¸ç¿’æˆæœ

2. å®Œæ•´çš„æ´»å‹•æµç¨‹
   - æš–èº«/å°å…¥ï¼ˆæ™‚é–“ã€å•Ÿå‹•æƒ…ç·’å®‰å…¨ï¼‰
   - ä¸»è¦æ´»å‹•ï¼ˆæ­¥é©Ÿã€äº’å‹•æ–¹å¼ã€æ™‚é–“ï¼‰
   - æ”¶æŸ/åæ€ï¼ˆåæ€æå•ã€æ™‚é–“ï¼‰
   - è©³ç´°çš„èª²å ‚å°è©±æ¡†æ¶

3. æ‰€éœ€è³‡æºèˆ‡æ•™æ
   - å½±ç‰‡ã€æ•…äº‹ã€æ¡ˆä¾‹
   - è¨è«–ç´ æ
   - å·¥å…·èˆ‡ç”¨å…·

4. è‹±èªå­¸ç¿’æ•´åˆ
   - é—œéµå­—å½™èˆ‡è¡¨é”
   - èªè¨€çµæ§‹æ•™å­¸é‡é»
   - è½èªªè®€å¯«çš„åƒèˆ‡æ©Ÿæœƒ

5. å¿ƒç†å®‰å…¨è€ƒæ…®
   - å¦‚ä½•å‰µé€ å®‰å…¨çš„åˆ†äº«ç’°å¢ƒ
   - å°Šé‡å€‹äººé‚Šç•Œçš„ç­–ç•¥
   - è™•ç†æ•æ„Ÿå›æ‡‰çš„æ–¹å¼

6. å·®ç•°åŒ–æ•™å­¸
   - é€²åº¦å¿«çš„å­¸ç”Ÿ
   - éœ€è¦æ”¯æ´çš„å­¸ç”Ÿ
   - ç‰¹æ®Šéœ€æ±‚è€ƒæ…®`;

            currentPrompt = prompt;
            displayPrompt(prompt);
        }

        function generateSpeaking() {
            const topic = document.getElementById('speaking-topic').value;
            const grade = document.querySelector('input[name="s-grade"]:checked')?.value;
            const sels = getSelectedValues('s-sel');
            const scenario = document.getElementById('speaking-scenario').value;
            const duration = document.getElementById('speaking-duration').value;

            if (!topic || !grade || sels.length === 0 || !scenario) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½');
                return;
            }

            const prompt = `ã€SELå£èªªç·´ç¿’è¨­è¨ˆã€‘

ç·´ç¿’ä¸»é¡Œï¼š${topic}
å­¸ç”Ÿå¹´ç´šï¼šåœ‹ä¸­${grade}å¹´ç´š (CEFR: ${grade === '7' ? 'A1' : grade === '8' ? 'A1+' : 'A2'})
SELèƒ½åŠ›ç„¦é»ï¼š${sels.join('ã€')}
ç·´ç¿’æƒ…å¢ƒï¼š${scenario}
${duration ? `æ™‚é•·ï¼š${duration}` : ''}

è«‹è¨­è¨ˆä¸€å€‹æœ‰æ„ç¾©çš„SELå£èªªç·´ç¿’ï¼š

1. ç·´ç¿’ç›®æ¨™
   - SELç›®æ¨™ï¼šå­¸ç”Ÿèƒ½èªè­˜/è¡¨é”/ç®¡ç†...
   - è‹±èªç›®æ¨™ï¼šèƒ½ç”¨è‹±æ–‡è¡¨é”...
   - é æœŸè¡Œç‚ºè¡¨ç¾

2. æƒ…å¢ƒèˆ‡è§’è‰²è¨­å®š
   - å…·é«”çš„çœŸå¯¦æƒ…æ™¯
   - è§’è‰²èˆ‡èƒŒæ™¯
   - æƒ…æ„Ÿè„ˆçµ¡

3. å®Œæ•´çš„ç·´ç¿’æµç¨‹
   - ç†±èº«èˆ‡æƒ…å¢ƒèªªæ˜
   - ä¸»è¦å°è©±ç·´ç¿’
   - é€²éšæŒ‘æˆ°ï¼ˆå¦‚é©ç”¨ï¼‰
   - åæ€èˆ‡å›é¥‹

4. èªè¨€æ”¯æ¶
   - é—œéµå­—å½™èˆ‡è¡¨é”
   - æœ‰ç”¨çš„å¥å‹
   - ä¸­æ–‡æç¤ºï¼ˆå¦‚éœ€è¦ï¼‰

5. éŒ¯èª¤ç³¾æ­£èˆ‡å›é¥‹ç­–ç•¥
   - å¦‚ä½•æä¾›å»ºè¨­æ€§å›é¥‹
   - å¼·åŒ–æ­£é¢è¡¨ç¾çš„æ–¹å¼
   - é¼“å‹µå†’éšªå˜—è©¦

6. å»¶ä¼¸æ´»å‹•
   - é€²éšç‰ˆæœ¬
   - å°çµ„æ”¹ç·¨
   - é·ç§»åˆ°çœŸå¯¦æƒ…å¢ƒ`;

            currentPrompt = prompt;
            displayPrompt(prompt);
        }

        function displayPrompt(prompt) {
            const previewDiv = document.getElementById('preview');
            previewDiv.textContent = prompt;
        }

        function copyToClipboard() {
            if (!currentPrompt) {
                alert('è«‹å…ˆç”ŸæˆPrompt');
                return;
            }

            navigator.clipboard.writeText(currentPrompt).then(() => {
                const feedback = document.getElementById('copyFeedback');
                feedback.classList.add('show');
                setTimeout(() => {
                    feedback.classList.remove('show');
                }, 2000);
            }).catch(() => {
                alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½');
            });
        }

        function downloadPrompt() {
            if (!currentPrompt) {
                alert('è«‹å…ˆç”ŸæˆPrompt');
                return;
            }

            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(currentPrompt));
            element.setAttribute('download', 'SEL_Prompt_' + new Date().getTime() + '.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }
    </script>
</body>
</html>
