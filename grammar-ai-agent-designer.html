<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±æ–‡æ–‡æ³•AIæ•™å­¸ä»£ç†äººè¨­è¨ˆå™¨ | English Grammar AI Teaching Agent Designer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans Traditional Chinese', sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: #000;
            margin-bottom: 30px;
            padding: 40px 20px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            font-weight: 700;
        }

        header p {
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        /* ä½¿ç”¨èªªæ˜ Banner */
        .info-banner {
            background: linear-gradient(135deg, rgba(25, 118, 210, 0.1) 0%, rgba(66, 165, 245, 0.1) 100%);
            border-left: 4px solid #1976d2;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            color: #000;
        }

        .info-banner strong {
            display: block;
            margin-bottom: 12px;
            font-size: 1.05em;
        }

        .info-banner p {
            line-height: 1.8;
            margin-bottom: 12px;
            font-size: 0.95em;
        }

        .info-banner .divider {
            height: 1px;
            background: rgba(21, 101, 192, 0.2);
            margin: 15px 0;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .section-title {
            font-size: 1.4em;
            color: #000;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid #1976d2;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #000;
            font-weight: 600;
            font-size: 0.95em;
        }

        label .en {
            font-size: 0.85em;
            color: #666;
            font-weight: normal;
            display: block;
            margin-top: 4px;
        }

        input[type="text"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 0.95em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #1976d2;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="checkbox"],
        input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .cefr-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .cefr-btn {
            padding: 12px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            text-align: center;
            color: #000;
        }

        .cefr-btn:hover {
            border-color: #1976d2;
            background: #f0f7ff;
        }

        .cefr-btn.selected {
            background: #1976d2;
            color: white;
            border-color: #1976d2;
        }

        .cefr-label {
            font-size: 0.9em;
            display: block;
            margin-top: 4px;
        }

        .step-list {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .step-item {
            margin-bottom: 12px;
            padding: 10px;
            background: white;
            border-left: 4px solid #1976d2;
            border-radius: 4px;
        }

        .step-item strong {
            color: #1976d2;
        }

        .add-step {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .add-step input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #1976d2;
            color: white;
        }

        .btn-primary:hover {
            background: #1565c0;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e0e0e0;
            color: #000;
        }

        .btn-secondary:hover {
            background: #d0d0d0;
        }

        .preview-box {
            background: #f8f9fa;
            border: 2px solid #1976d2;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .preview-title {
            font-weight: 600;
            color: #1976d2;
            margin-bottom: 12px;
        }

        .preview-content {
            background: white;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
            color: #000;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .button-group button {
            flex: 1;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #1976d2;
            text-decoration: none;
            font-weight: 600;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .footer {
            text-align: center;
            color: #000;
            margin-top: 80px;
            padding-top: 30px;
            border-top: 1px solid #1976d2;
        }

        .footer-text {
            margin-bottom: 12px;
            line-height: 1.8;
            font-size: 0.9em;
        }

        .footer-divider {
            height: 1px;
            background: #1976d2;
            margin: 20px 0;
        }

        .footer-credit {
            font-size: 0.85em;
            opacity: 0.8;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">â† è¿”å›ä¸»é  | Back to Home</a>

        <header>
            <h1>ğŸ“š è‹±æ–‡æ–‡æ³•AIæ•™å­¸ä»£ç†äººè¨­è¨ˆå™¨</h1>
            <p>English Grammar AI Teaching Agent Designer</p>
            <p style="font-size: 0.9em; margin-top: 10px;">è‹±æ–‡æ–‡æ³• | English Grammar (Pre-A1 ~ C2)</p>
        </header>

        <!-- ä½¿ç”¨èªªæ˜ -->
        <div class="info-banner">
            <strong>ğŸ’¡ å·¥å…·ä½¿ç”¨èªªæ˜ | Tool Instructions</strong>
            
            <p><strong>ä¸­æ–‡ï¼š</strong>æ­¤å·¥å…·ä¸»è¦ç‚ºå¹«åŠ©è‹±èªè€å¸«ã€EMIè€å¸«ã€CLILè€å¸«ç†Ÿæ‚‰AIæç¤ºï¼ˆPromptï¼‰çš„æ¨¡æ¿ã€‚ç†Ÿæ‚‰å¾Œï¼Œæ•™å¸«ä¸ä¸€å®šè¦ä½¿ç”¨æœ¬ä»‹é¢ï¼Œäº¦å¯è‡ªè¡Œçµ„åˆæ“ä½œï¼Œä¸¦æ ¹æ“šæ•™å¸«å°ˆæ¥­çŸ¥èƒ½é€²è¡Œèª¿æ•´ã€‚</p>
            
            <div class="divider"></div>
            
            <p><strong>English:</strong> This tool is designed to help English teachers, EMI teachers, and CLIL teachers familiarize themselves with AI prompt templates. After becoming familiar with the templates, teachers are not required to use this interface; they may also combine and create their own prompts according to their professional expertise and classroom needs.</p>
        </div>

        <div class="main-grid">
            <!-- å·¦å´ï¼šè¼¸å…¥è¡¨å–® -->
            <div>
                <!-- ç›®æ¨™èˆ‡è§’è‰² -->
                <div class="section">
                    <div class="section-title">ğŸ¯ ç›®æ¨™èˆ‡è§’è‰² | Target & Role</div>

                    <div class="form-group">
                        <label>
                            CEFRç­‰ç´š
                            <span class="en">CEFR Level</span>
                        </label>
                        <div class="cefr-grid" id="cefrGrid"></div>
                    </div>

                    <div class="form-group">
                        <label>
                            æ–‡æ³•ä¸»é¡Œ
                            <span class="en">Grammar Topic</span>
                        </label>
                        <input type="text" id="topic" placeholder="ä¾‹ï¼šPresent Simple (ç¾åœ¨ç°¡å–®å¼)ã€Articles (å† è©)">
                    </div>

                    <div class="form-group">
                        <label>
                            å­¸ç¿’ç›®æ¨™
                            <span class="en">Learning Objective</span>
                        </label>
                        <textarea id="objective" placeholder="ä¾‹ï¼šå­¸ç”Ÿèƒ½æ­£ç¢ºä½¿ç”¨ç¾åœ¨ç°¡å–®å¼æè¿°æ—¥å¸¸ç¿’æ…£å’Œæ™®éäº‹å¯¦"></textarea>
                    </div>

                    <div class="form-group">
                        <label>
                            AIè§’è‰²åç¨±
                            <span class="en">AI Agent Name</span>
                        </label>
                        <input type="text" id="agentName" placeholder="ä¾‹ï¼šGrammar Guardian" value="Grammar Guardian">
                    </div>

                    <div class="form-group">
                        <label>
                            AIè§’è‰²æè¿°
                            <span class="en">AI Agent Description</span>
                        </label>
                        <textarea id="agentDesc" placeholder="ä¾‹ï¼šä¸€å€‹è€å¿ƒã€é¼“å‹µçš„æ–‡æ³•æ•™å­¸åŠ©æ‰‹ï¼Œæ“…é•·ç”¨å¯¦ä¾‹è§£é‡‹è¤‡é›œæ¦‚å¿µ"></textarea>
                    </div>
                </div>

                <!-- ç’°å¢ƒèˆ‡å…§å®¹ -->
                <div class="section">
                    <div class="section-title">ğŸ« ç’°å¢ƒèˆ‡å…§å®¹ | Environment & Content</div>

                    <div class="form-group">
                        <label>
                            å­¸ç¿’è€…èƒŒæ™¯
                            <span class="en">Learner Profile</span>
                        </label>
                        <textarea id="learnerProfile" placeholder="ä¾‹ï¼šå°ç£åœ‹ä¸­ç”Ÿã€è‹±æ–‡åˆå­¸è€…ã€å°èªæ³•æ„Ÿåˆ°å›°æƒ‘"></textarea>
                    </div>

                    <div class="form-group">
                        <label>
                            æ•™å­¸è³‡æº
                            <span class="en">Teaching Resources</span>
                        </label>
                        <textarea id="resources" placeholder="ä¾‹ï¼šä¾‹å¥ã€ç·´ç¿’é¡Œã€è¦–è¦ºåŒ–åœ–è¡¨ã€äº’å‹•éŠæˆ²"></textarea>
                    </div>

                    <div class="form-group">
                        <label>
                            æ•™å­¸æ™‚é–“
                            <span class="en">Duration</span>
                        </label>
                        <input type="text" id="duration" placeholder="ä¾‹ï¼š20åˆ†é˜">
                    </div>

                    <div class="form-group">
                        <label>
                            å­¸ç¿’æ¨¡å¼
                            <span class="en">Learning Mode</span>
                        </label>
                        <select id="mode">
                            <option value="">-- è«‹é¸æ“‡ --</option>
                            <option value="è¬›è§£èˆ‡ç·´ç¿’">è¬›è§£èˆ‡ç·´ç¿’</option>
                            <option value="ç™¼ç¾å¼å­¸ç¿’">ç™¼ç¾å¼å­¸ç¿’</option>
                            <option value="éŠæˆ²åŒ–å­¸ç¿’">éŠæˆ²åŒ–å­¸ç¿’</option>
                            <option value="å°è©±ç·´ç¿’">å°è©±ç·´ç¿’</option>
                            <option value="ç³¾éŒ¯èˆ‡åæ€">ç³¾éŒ¯èˆ‡åæ€</option>
                        </select>
                    </div>
                </div>

                <!-- è¦å‰‡ -->
                <div class="section">
                    <div class="section-title">ğŸ“‹ è¦å‰‡ | Rules</div>

                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule1" checked>
                            ä½¿ç”¨æ¸…æ™°ã€ç°¡æ½”çš„èªè¨€è§£é‡‹æ–‡æ³•æ¦‚å¿µ
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule2" checked>
                            æä¾›å¤šå€‹çœŸå¯¦ç”Ÿæ´»ä¸­çš„ä¾‹å¥
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule3" checked>
                            å¾ªåºæ¼¸é€²åœ°å¢åŠ é›£åº¦ï¼Œä¸éåº¦è¶…å‰
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule4" checked>
                            ä»¥æ­£é¢ã€é¼“å‹µçš„æ–¹å¼å›æ‡‰å­¸ç”ŸéŒ¯èª¤
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule5">
                            æ¯”è¼ƒä¸­è‹±æ–‡æ–‡æ³•å·®ç•°å¹«åŠ©ç†è§£
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule6">
                            ä½¿ç”¨è¦–è¦ºåŒ–æˆ–è¡¨æ ¼å‘ˆç¾è¤‡é›œæ¦‚å¿µ
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="rule7">
                            ç¶“å¸¸æª¢æŸ¥å­¸ç”Ÿç†è§£ç¨‹åº¦
                        </label>
                    </div>
                </div>
            </div>

            <!-- å³å´ï¼šå­¸ç¿’æµç¨‹ -->
            <div>
                <!-- å·¥å…· -->
                <div class="section">
                    <div class="section-title">ğŸ› ï¸ å·¥å…· | Tools</div>

                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool1" checked>
                            ä¾‹å¥é¡¯ç¤ºèˆ‡è§£æ
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool2" checked>
                            èªæ³•è¡¨æ ¼æˆ–åœ–è¡¨ (Markdown)
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool3" checked>
                            ç·´ç¿’é¡Œèˆ‡äº’å‹•ç·´ç¿’
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool4">
                            èªéŸ³ç™¼éŸ³ç¤ºç¯„ (IPAç¬¦è™Ÿ)
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool5">
                            æ¯”è¼ƒè¡¨æ ¼ (ä¸­è‹±å°ç…§)
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" id="tool6">
                            å³æ™‚åé¥‹ç³»çµ±
                        </label>
                    </div>
                </div>

                <!-- å­¸ç¿’æµç¨‹èˆ‡æ­¥é©Ÿ -->
                <div class="section">
                    <div class="section-title">ğŸ“š å­¸ç¿’æµç¨‹ | Learning Flow</div>

                    <div class="add-step">
                        <input type="text" id="stepInput" placeholder="è¼¸å…¥æ­¥é©Ÿå…§å®¹...">
                        <button class="btn-primary" onclick="addStep()">æ–°å¢</button>
                    </div>

                    <div id="stepList" class="step-list">
                        <div class="step-item">
                            <strong>Step 1:</strong> å•å€™å­¸ç”Ÿä¸¦ä»‹ç´¹ä»Šæ—¥æ–‡æ³•ä¸»é¡Œ
                        </div>
                        <div class="step-item">
                            <strong>Step 2:</strong> æä¾›3-5å€‹æ¸…æ™°çš„ä¾‹å¥åŠè§£é‡‹
                        </div>
                        <div class="step-item">
                            <strong>Step 3:</strong> é€²è¡Œäº’å‹•ç·´ç¿’èˆ‡å³æ™‚å›é¥‹
                        </div>
                    </div>

                    <button class="btn-secondary" onclick="clearSteps()">æ¸…ç©ºæ­¥é©Ÿ</button>
                </div>

                <!-- é è¦½ -->
                <div class="section">
                    <div class="section-title">ğŸ‘ï¸ é è¦½ | Preview</div>

                    <button class="btn-primary" onclick="generatePrompt()" style="width: 100%; margin-bottom: 15px;">
                        ç”Ÿæˆ Prompt
                    </button>

                    <div class="preview-box">
                        <div class="preview-title">ç”Ÿæˆçš„Promptï¼š</div>
                        <div class="preview-content" id="preview">é»æ“Šã€Œç”ŸæˆPromptã€ä»¥é è¦½...</div>
                    </div>

                    <div class="button-group">
                        <button class="btn-primary" onclick="copyPrompt()">è¤‡è£½</button>
                        <button class="btn-secondary" onclick="downloadPrompt()">ä¸‹è¼‰</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-text">
                <strong>Beta ç‰ˆæœ¬ | Beta Version</strong><br>
                é¦–æ¬¡é–‹ç™¼æ™‚é–“ï¼š2025å¹´11æœˆ (èˆ‡ Claude.ai å…±æ§‹) | First co-developed with Claude.ai, November 2025<br>
                æœ€å¾Œæ›´æ–°ï¼š2025å¹´11æœˆ14æ—¥ | Last updated: November 14, 2025
            </div>

            <div class="footer-divider"></div>

            <div class="footer-credit">
                <p>åœ‹ç«‹é›²æ—ç§‘æŠ€å¤§å­¸æ‡‰ç”¨å¤–èªç³»è‘‰æƒ èç‰¹è˜æ•™æˆåœ˜éšŠè£½ä½œ Â© 2025</p>
                <p>Designed by Distinguished Professor Hui-Chin Yeh and Ensemble, Department of Applied Linguistics, National Yunlin University of Science and Technology, Douliu, Taiwan Â© 2025</p>
            </div>
        </div>
    </div>

    <script>
        const cefrLevels = ['Pre-A1', 'A1', 'A2', 'B1', 'B2', 'C1', 'C2'];
        const cefrDescriptions = {
            'Pre-A1': 'å°šæœªå…¥é–€',
            'A1': 'åˆç´šï¼šåŸºç¤',
            'A2': 'åˆç´šï¼šé€²éš',
            'B1': 'ä¸­ç´šï¼šç¨ç«‹',
            'B2': 'ä¸­ç´šï¼šæµæš¢',
            'C1': 'é«˜ç´šï¼šç†Ÿç·´',
            'C2': 'ç²¾é€š'
        };

        let steps = [];
        let selectedCefr = '';

        function initCefrGrid() {
            const grid = document.getElementById('cefrGrid');
            cefrLevels.forEach(level => {
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.className = 'cefr-btn';
                btn.innerHTML = `${level}<span class="cefr-label">${cefrDescriptions[level]}</span>`;
                btn.onclick = function(e) {
                    e.preventDefault();
                    selectedCefr = level;
                    document.querySelectorAll('.cefr-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                };
                grid.appendChild(btn);
            });
        }

        function addStep() {
            const input = document.getElementById('stepInput');
            if (input.value.trim()) {
                steps.push(input.value);
                renderSteps();
                input.value = '';
            }
        }

        function renderSteps() {
            const list = document.getElementById('stepList');
            list.innerHTML = '';
            steps.forEach((step, index) => {
                const div = document.createElement('div');
                div.className = 'step-item';
                div.innerHTML = `
                    <strong>Step ${index + 1}:</strong> ${step}
                    <button type="button" class="btn-secondary" style="width: 80px; padding: 5px; font-size: 0.8em; margin-top: 8px;" onclick="removeStep(${index})">åˆªé™¤</button>
                `;
                list.appendChild(div);
            });
        }

        function removeStep(index) {
            steps.splice(index, 1);
            renderSteps();
        }

        function clearSteps() {
            steps = [];
            renderSteps();
        }

        function generatePrompt() {
            const cefr = selectedCefr || '(æœªé¸æ“‡)';
            const topic = document.getElementById('topic').value;
            const objective = document.getElementById('objective').value;
            const agentName = document.getElementById('agentName').value || 'æ•™å­¸åŠ©æ‰‹';
            const agentDesc = document.getElementById('agentDesc').value;
            const learnerProfile = document.getElementById('learnerProfile').value;
            const resources = document.getElementById('resources').value;
            const duration = document.getElementById('duration').value;
            const mode = document.getElementById('mode').value;

            let rulesText = 'è¦å‰‡ï¼š\n';
            if (document.getElementById('rule1').checked) rulesText += '1. ä½¿ç”¨æ¸…æ™°ã€ç°¡æ½”çš„èªè¨€è§£é‡‹æ–‡æ³•æ¦‚å¿µ\n';
            if (document.getElementById('rule2').checked) rulesText += '2. æä¾›å¤šå€‹çœŸå¯¦ç”Ÿæ´»ä¸­çš„ä¾‹å¥\n';
            if (document.getElementById('rule3').checked) rulesText += '3. å¾ªåºæ¼¸é€²åœ°å¢åŠ é›£åº¦ï¼Œä¸éåº¦è¶…å‰\n';
            if (document.getElementById('rule4').checked) rulesText += '4. ä»¥æ­£é¢ã€é¼“å‹µçš„æ–¹å¼å›æ‡‰å­¸ç”ŸéŒ¯èª¤\n';
            if (document.getElementById('rule5').checked) rulesText += '5. æ¯”è¼ƒä¸­è‹±æ–‡æ–‡æ³•å·®ç•°å¹«åŠ©ç†è§£\n';
            if (document.getElementById('rule6').checked) rulesText += '6. ä½¿ç”¨è¦–è¦ºåŒ–æˆ–è¡¨æ ¼å‘ˆç¾è¤‡é›œæ¦‚å¿µ\n';
            if (document.getElementById('rule7').checked) rulesText += '7. ç¶“å¸¸æª¢æŸ¥å­¸ç”Ÿç†è§£ç¨‹åº¦\n';

            let stepsText = 'å­¸ç¿’æµç¨‹ï¼š\n';
            steps.forEach((step, index) => {
                stepsText += `Step ${index + 1}: ${step}\n`;
            });

            const prompt = `
ã€è‹±æ–‡æ–‡æ³•AIæ•™å­¸ä»£ç†äººè¨­è¨ˆã€‘

ã€ç›®æ¨™èˆ‡è§’è‰²ã€‘
CEFRç­‰ç´šï¼š${cefr} (${cefrDescriptions[cefr] || ''})
æ–‡æ³•ä¸»é¡Œï¼š${topic}
å­¸ç¿’ç›®æ¨™ï¼š${objective}
AIè§’è‰²ï¼š${agentName}
${agentDesc ? `è§’è‰²æè¿°ï¼š${agentDesc}` : ''}

é€™æ˜¯ä¸€å€‹å°ˆé–€ç”¨æ–¼æ•™æˆè‹±æ–‡æ–‡æ³•çš„äººå·¥æ™ºæ…§ä»£ç†äºº(AI Agent)ï¼Œå®Œå…¨ä½¿ç”¨ç¹é«”ä¸­æ–‡é€²è¡Œæ•™å­¸è§£é‡‹ï¼Œä½†æœƒä½¿ç”¨è‹±æ–‡é€²è¡Œä¾‹å¥ç¤ºç¯„ã€‚

ã€ç’°å¢ƒèˆ‡å…§å®¹ã€‘
CEFRç­‰ç´šï¼š${cefr}
å­¸ç¿’è€…èƒŒæ™¯ï¼š${learnerProfile}
æ•™å­¸è³‡æºï¼š${resources}
æ•™å­¸æ™‚é–“ï¼š${duration}
å­¸ç¿’æ¨¡å¼ï¼š${mode}

ã€${rulesText}ã€‘

ã€å­¸ç¿’æµç¨‹èˆ‡è¡Œå‹•ã€‘
${stepsText}

æ•™å­¸æŒ‡å—ï¼š
- æ¯å€‹æ­¥é©Ÿç­‰å¾…å­¸ç”Ÿå›æ‡‰å¾Œå†é€²è¡Œä¸‹ä¸€æ­¥
- æ ¹æ“šCEFR ${cefr}ç­‰ç´šèª¿æ•´é›£åº¦èˆ‡ç”¨èª
- ä½¿ç”¨${mode}çš„æ–¹å¼é€²è¡Œæ•™å­¸
- è¨˜ä½å­¸ç”Ÿçš„éŒ¯èª¤æ¨¡å¼ï¼Œæä¾›é‡å°æ€§çš„è§£é‡‹
- å¤šç”¨ä¾‹å¥å’Œç·´ç¿’ä¾†å¼·åŒ–ç†è§£

é–‹å§‹æ•™å­¸æ™‚ï¼Œè«‹å…ˆå•å€™å­¸ç”Ÿï¼Œç¢ºèªä»–å€‘å·²æº–å‚™å¥½ï¼Œç„¶å¾Œä¾ç…§ä¸Šè¿°æµç¨‹é€²è¡Œã€‚
            `;

            document.getElementById('preview').textContent = prompt.trim();
        }

        function copyPrompt() {
            const preview = document.getElementById('preview');
            navigator.clipboard.writeText(preview.textContent).then(() => {
                alert('âœ… å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            });
        }

        function downloadPrompt() {
            const preview = document.getElementById('preview');
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(preview.textContent));
            element.setAttribute('download', 'è‹±æ–‡æ–‡æ³•AIæ•™å­¸ä»£ç†äºº_' + new Date().getTime() + '.txt');
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }

        // åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', initCefrGrid);
    </script>
</body>
</html>
